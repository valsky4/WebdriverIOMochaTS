/// <reference types="node" />
/// <reference types="node" />
import type { Server } from 'node:http';
import type { Socket } from 'node:net';
import type { Server as WSServer } from 'ws';
/**
 * Appium's slightly-modified {@linkcode Server http.Server}.
 */
export declare type AppiumServer = Omit<Server, 'close'> & AppiumServerExtension;
export interface AppiumServerExtension {
    close(): Promise<void>;
    addWebSocketHandler(handlerPathname: string, handlerServer: WSServer): Promise<void>;
    removeWebSocketHandler(handlerPathname: string): Promise<boolean>;
    removeAllWebSocketHandlers(): Promise<boolean>;
    getWebSocketHandlers(keysFilter: string | null | undefined): Promise<Record<string, WSServer>>;
    webSocketsMapping: Record<string, WSServer>;
}
export interface AppiumServerSocket extends Socket {
    _openReqCount: number;
}
//# sourceMappingURL=server.d.ts.map