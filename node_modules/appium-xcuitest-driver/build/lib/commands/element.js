"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.commands = void 0;
require("source-map-support/register");
var _lodash = _interopRequireDefault(require("lodash"));
var _driver = require("appium/driver");
var _support = require("appium/support");
const commands = {},
  extensions = {};
exports.commands = commands;
commands.elementDisplayed = async function elementDisplayed(el) {
  el = _support.util.unwrapElement(el);
  if (this.isWebContext()) {
    const atomsElement = this.getAtomsElement(el);
    return await this.executeAtom('is_displayed', [atomsElement]);
  }
  return await this.proxyCommand(`/element/${el}/displayed`, 'GET');
};
commands.elementEnabled = async function elementEnabled(el) {
  el = _support.util.unwrapElement(el);
  if (this.isWebContext()) {
    const atomsElement = this.getAtomsElement(el);
    return await this.executeAtom('is_enabled', [atomsElement]);
  }
  return await this.proxyCommand(`/element/${el}/enabled`, 'GET');
};
commands.elementSelected = async function elementSelected(el) {
  el = _support.util.unwrapElement(el);
  if (this.isWebContext()) {
    const atomsElement = this.getAtomsElement(el);
    return await this.executeAtom('is_selected', [atomsElement]);
  }
  return await this.proxyCommand(`/element/${el}/selected`, 'GET');
};
commands.getName = async function getName(el) {
  el = _support.util.unwrapElement(el);
  if (this.isWebContext()) {
    const atomsElement = this.getAtomsElement(el);
    const script = 'return arguments[0].tagName.toLowerCase()';
    return await this.executeAtom('execute_script', [script, [atomsElement]]);
  }
  return await this.proxyCommand(`/element/${el}/name`, 'GET');
};
commands.getNativeAttribute = async function getNativeAttribute(attribute, el) {
  if (attribute === 'contentSize') {
    return await this.getContentSize(el);
  }
  el = _support.util.unwrapElement(el);
  let value = await this.proxyCommand(`/element/${el}/attribute/${attribute}`, 'GET');
  if ([0, 1].includes(value)) {
    value = !!value;
  }
  return _lodash.default.isNull(value) || _lodash.default.isString(value) ? value : JSON.stringify(value);
};
commands.getAttribute = async function getAttribute(attribute, el) {
  el = _support.util.unwrapElement(el);
  if (!this.isWebContext()) {
    return await this.getNativeAttribute(attribute, el);
  }
  const atomsElement = this.getAtomsElement(el);
  return await this.executeAtom('get_attribute_value', [atomsElement, attribute]);
};
commands.getProperty = async function getProperty(property, el) {
  el = _support.util.unwrapElement(el);
  if (!this.isWebContext()) {
    return await this.getNativeAttribute(property, el);
  }
  const atomsElement = this.getAtomsElement(el);
  return await this.executeAtom('get_attribute_value', [atomsElement, property]);
};
commands.getText = async function getText(el) {
  el = _support.util.unwrapElement(el);
  if (!this.isWebContext()) {
    return await this.proxyCommand(`/element/${el}/text`, 'GET');
  }
  let atomsElement = this.getAtomsElement(el);
  return await this.executeAtom('get_text', [atomsElement]);
};
commands.getElementRect = async function getElementRect(el) {
  if (this.isWebContext()) {
    const {
      x,
      y
    } = await this.getLocation(el);
    const {
      width,
      height
    } = await this.getSize(el);
    return {
      x,
      y,
      width,
      height
    };
  }
  el = _support.util.unwrapElement(el);
  return await this.getNativeRect(el);
};
extensions.getNativeRect = async function getNativeRect(el) {
  return await this.proxyCommand(`/element/${el}/rect`, 'GET');
};
commands.getLocation = async function getLocation(el) {
  el = _support.util.unwrapElement(el);
  if (this.isWebContext()) {
    const atomsElement = await this.getAtomsElement(el);
    let loc = await this.executeAtom('get_top_left_coordinates', [atomsElement]);
    if (this.opts.absoluteWebLocations) {
      const script = 'return [' + 'Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft),' + 'Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)];';
      const [xOffset, yOffset] = await this.execute(script);
      loc.x += xOffset;
      loc.y += yOffset;
    }
    return loc;
  }
  const rect = await this.getElementRect(el);
  return {
    x: rect.x,
    y: rect.y
  };
};
commands.getLocationInView = async function getLocationInView(el) {
  return await this.getLocation(el);
};
commands.getSize = async function getSize(el) {
  el = _support.util.unwrapElement(el);
  if (this.isWebContext()) {
    return await this.executeAtom('get_size', [this.getAtomsElement(el)]);
  }
  const rect = await this.getElementRect(el);
  return {
    width: rect.width,
    height: rect.height
  };
};
function prepareInputValue(inp) {
  if (![_lodash.default.isArray, _lodash.default.isString, _lodash.default.isFinite].some(f => f(inp))) {
    throw new Error(`Only strings, numbers and arrays are supported as input arguments. ` + `Received: ${JSON.stringify(inp)}`);
  }
  if (_lodash.default.isArray(inp)) {
    inp = inp.join('');
  } else if (_lodash.default.isFinite(inp)) {
    inp = `${inp}`;
  }
  return [...inp].map(k => {
    if (['\uE006', '\uE007'].includes(k)) {
      return '\n';
    }
    if (['\uE003', '\ue017'].includes(k)) {
      return '\b';
    }
    return k;
  });
}
commands.setValueImmediate = async function setValueImmediate(value, el) {
  this.log.info('There is currently no way to bypass typing using XCUITest. Setting value through keyboard');
  await this.setValue(value, el);
};
commands.setValue = async function setValue(value, el) {
  el = _support.util.unwrapElement(el);
  if (!this.isWebContext()) {
    await this.proxyCommand(`/element/${el}/value`, 'POST', {
      value: prepareInputValue(value)
    });
    return;
  }
  const atomsElement = this.getAtomsElement(el);
  await this.executeAtom('click', [atomsElement]);
  await this.executeAtom('type', [atomsElement, value]);
};
commands.keys = async function keys(value) {
  await this.proxyCommand('/wda/keys', 'POST', {
    value: prepareInputValue(value)
  });
};
commands.clear = async function clear(el) {
  el = _support.util.unwrapElement(el);
  if (this.isWebContext()) {
    const atomsElement = this.getAtomsElement(el);
    await this.executeAtom('clear', [atomsElement]);
    return;
  }
  await this.proxyCommand(`/element/${el}/clear`, 'POST');
};
commands.getContentSize = async function getContentSize(el) {
  if (this.isWebContext()) {
    throw new _driver.errors.NotYetImplementedError('Support for getContentSize for web context is not yet implemented. Please contact an Appium dev');
  }
  const type = await this.getAttribute('type', el);
  if (type !== 'XCUIElementTypeTable' && type !== 'XCUIElementTypeCollectionView') {
    throw new Error(`Can't get content size for type '${type}', only for ` + `tables and collection views`);
  }
  let locator = '*';
  if (type === 'XCUIElementTypeTable') {
    locator = 'XCUIElementTypeCell';
  }
  let contentHeight = 0;
  const children = await this.findElOrEls(`class chain`, locator, true, el);
  if (children.length === 1) {
    const rect = await this.getElementRect(_lodash.default.head(children));
    contentHeight = rect.height;
  } else if (children.length) {
    switch (type) {
      case 'XCUIElementTypeTable':
        {
          const firstRect = await this.getElementRect(_lodash.default.head(children));
          const lastRect = await this.getElementRect(_lodash.default.last(children));
          contentHeight = lastRect.y + lastRect.height - firstRect.y;
          break;
        }
      case 'XCUIElementTypeCollectionView':
        {
          let elsInRow = 1;
          let firstRect = await this.getElementRect(_lodash.default.head(children));
          let initialRects = [firstRect];
          for (let i = 1; i < children.length; i++) {
            const rect = await this.getElementRect(children[i]);
            initialRects.push(rect);
            if (rect.y !== firstRect.y) {
              elsInRow = i;
              break;
            }
          }
          const spaceBetweenEls = initialRects[elsInRow].y - initialRects[elsInRow - 1].y - initialRects[elsInRow - 1].height;
          const numRows = Math.ceil(children.length / elsInRow);
          contentHeight = numRows * firstRect.height + spaceBetweenEls * (numRows - 1);
          break;
        }
      default:
        throw new Error(`Programming error: type '${type}' was not ` + `valid but should have already been rejected`);
    }
  }
  const size = await this.getSize(el);
  const origin = await this.getLocationInView(el);
  return JSON.stringify({
    width: size.width,
    height: size.height,
    top: origin.y,
    left: origin.x,
    scrollableOffset: contentHeight
  });
};
commands.isKeyboardShown = async function isKeyboardShown() {
  try {
    await this.findNativeElementOrElements('class name', 'XCUIElementTypeKeyboard', false);
    return true;
  } catch (ign) {
    return false;
  }
};
Object.assign(extensions, commands);
var _default = extensions;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9kYXNoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZHJpdmVyIiwiX3N1cHBvcnQiLCJjb21tYW5kcyIsImV4dGVuc2lvbnMiLCJleHBvcnRzIiwiZWxlbWVudERpc3BsYXllZCIsImVsIiwidXRpbCIsInVud3JhcEVsZW1lbnQiLCJpc1dlYkNvbnRleHQiLCJhdG9tc0VsZW1lbnQiLCJnZXRBdG9tc0VsZW1lbnQiLCJleGVjdXRlQXRvbSIsInByb3h5Q29tbWFuZCIsImVsZW1lbnRFbmFibGVkIiwiZWxlbWVudFNlbGVjdGVkIiwiZ2V0TmFtZSIsInNjcmlwdCIsImdldE5hdGl2ZUF0dHJpYnV0ZSIsImF0dHJpYnV0ZSIsImdldENvbnRlbnRTaXplIiwidmFsdWUiLCJpbmNsdWRlcyIsIl8iLCJpc051bGwiLCJpc1N0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRBdHRyaWJ1dGUiLCJnZXRQcm9wZXJ0eSIsInByb3BlcnR5IiwiZ2V0VGV4dCIsImdldEVsZW1lbnRSZWN0IiwieCIsInkiLCJnZXRMb2NhdGlvbiIsIndpZHRoIiwiaGVpZ2h0IiwiZ2V0U2l6ZSIsImdldE5hdGl2ZVJlY3QiLCJsb2MiLCJvcHRzIiwiYWJzb2x1dGVXZWJMb2NhdGlvbnMiLCJ4T2Zmc2V0IiwieU9mZnNldCIsImV4ZWN1dGUiLCJyZWN0IiwiZ2V0TG9jYXRpb25JblZpZXciLCJwcmVwYXJlSW5wdXRWYWx1ZSIsImlucCIsImlzQXJyYXkiLCJpc0Zpbml0ZSIsInNvbWUiLCJmIiwiRXJyb3IiLCJqb2luIiwibWFwIiwiayIsInNldFZhbHVlSW1tZWRpYXRlIiwibG9nIiwiaW5mbyIsInNldFZhbHVlIiwia2V5cyIsImNsZWFyIiwiZXJyb3JzIiwiTm90WWV0SW1wbGVtZW50ZWRFcnJvciIsInR5cGUiLCJsb2NhdG9yIiwiY29udGVudEhlaWdodCIsImNoaWxkcmVuIiwiZmluZEVsT3JFbHMiLCJsZW5ndGgiLCJoZWFkIiwiZmlyc3RSZWN0IiwibGFzdFJlY3QiLCJsYXN0IiwiZWxzSW5Sb3ciLCJpbml0aWFsUmVjdHMiLCJpIiwicHVzaCIsInNwYWNlQmV0d2VlbkVscyIsIm51bVJvd3MiLCJNYXRoIiwiY2VpbCIsInNpemUiLCJvcmlnaW4iLCJ0b3AiLCJsZWZ0Iiwic2Nyb2xsYWJsZU9mZnNldCIsImlzS2V5Ym9hcmRTaG93biIsImZpbmROYXRpdmVFbGVtZW50T3JFbGVtZW50cyIsImlnbiIsIk9iamVjdCIsImFzc2lnbiIsIl9kZWZhdWx0IiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9jb21tYW5kcy9lbGVtZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBlcnJvcnMgfSBmcm9tICdhcHBpdW0vZHJpdmVyJztcbmltcG9ydCB7IHV0aWwgfSBmcm9tICdhcHBpdW0vc3VwcG9ydCc7XG5cblxuY29uc3QgY29tbWFuZHMgPSB7fSwgZXh0ZW5zaW9ucyA9IHt9O1xuXG5jb21tYW5kcy5lbGVtZW50RGlzcGxheWVkID0gYXN5bmMgZnVuY3Rpb24gZWxlbWVudERpc3BsYXllZCAoZWwpIHtcbiAgZWwgPSB1dGlsLnVud3JhcEVsZW1lbnQoZWwpO1xuICBpZiAodGhpcy5pc1dlYkNvbnRleHQoKSkge1xuICAgIGNvbnN0IGF0b21zRWxlbWVudCA9IHRoaXMuZ2V0QXRvbXNFbGVtZW50KGVsKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlQXRvbSgnaXNfZGlzcGxheWVkJywgW2F0b21zRWxlbWVudF0pO1xuICB9XG5cbiAgcmV0dXJuIGF3YWl0IHRoaXMucHJveHlDb21tYW5kKGAvZWxlbWVudC8ke2VsfS9kaXNwbGF5ZWRgLCAnR0VUJyk7XG59O1xuXG5jb21tYW5kcy5lbGVtZW50RW5hYmxlZCA9IGFzeW5jIGZ1bmN0aW9uIGVsZW1lbnRFbmFibGVkIChlbCkge1xuICBlbCA9IHV0aWwudW53cmFwRWxlbWVudChlbCk7XG4gIGlmICh0aGlzLmlzV2ViQ29udGV4dCgpKSB7XG4gICAgY29uc3QgYXRvbXNFbGVtZW50ID0gdGhpcy5nZXRBdG9tc0VsZW1lbnQoZWwpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVBdG9tKCdpc19lbmFibGVkJywgW2F0b21zRWxlbWVudF0pO1xuICB9XG5cbiAgcmV0dXJuIGF3YWl0IHRoaXMucHJveHlDb21tYW5kKGAvZWxlbWVudC8ke2VsfS9lbmFibGVkYCwgJ0dFVCcpO1xufTtcblxuY29tbWFuZHMuZWxlbWVudFNlbGVjdGVkID0gYXN5bmMgZnVuY3Rpb24gZWxlbWVudFNlbGVjdGVkIChlbCkge1xuICBlbCA9IHV0aWwudW53cmFwRWxlbWVudChlbCk7XG4gIGlmICh0aGlzLmlzV2ViQ29udGV4dCgpKSB7XG4gICAgY29uc3QgYXRvbXNFbGVtZW50ID0gdGhpcy5nZXRBdG9tc0VsZW1lbnQoZWwpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVBdG9tKCdpc19zZWxlY3RlZCcsIFthdG9tc0VsZW1lbnRdKTtcbiAgfVxuXG4gIHJldHVybiBhd2FpdCB0aGlzLnByb3h5Q29tbWFuZChgL2VsZW1lbnQvJHtlbH0vc2VsZWN0ZWRgLCAnR0VUJyk7XG59O1xuXG5jb21tYW5kcy5nZXROYW1lID0gYXN5bmMgZnVuY3Rpb24gZ2V0TmFtZSAoZWwpIHtcbiAgZWwgPSB1dGlsLnVud3JhcEVsZW1lbnQoZWwpO1xuICBpZiAodGhpcy5pc1dlYkNvbnRleHQoKSkge1xuICAgIGNvbnN0IGF0b21zRWxlbWVudCA9IHRoaXMuZ2V0QXRvbXNFbGVtZW50KGVsKTtcbiAgICBjb25zdCBzY3JpcHQgPSAncmV0dXJuIGFyZ3VtZW50c1swXS50YWdOYW1lLnRvTG93ZXJDYXNlKCknO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVBdG9tKCdleGVjdXRlX3NjcmlwdCcsIFtzY3JpcHQsIFthdG9tc0VsZW1lbnRdXSk7XG4gIH1cblxuICByZXR1cm4gYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoYC9lbGVtZW50LyR7ZWx9L25hbWVgLCAnR0VUJyk7XG59O1xuXG5jb21tYW5kcy5nZXROYXRpdmVBdHRyaWJ1dGUgPSBhc3luYyBmdW5jdGlvbiBnZXROYXRpdmVBdHRyaWJ1dGUgKGF0dHJpYnV0ZSwgZWwpIHtcbiAgaWYgKGF0dHJpYnV0ZSA9PT0gJ2NvbnRlbnRTaXplJykge1xuICAgIC8vIGRvbid0IHByb3h5IHJlcXVlc3RzIGZvciB0aGUgY29udGVudCBzaXplIG9mIGEgc2Nyb2xsYWJsZSBlbGVtZW50XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0Q29udGVudFNpemUoZWwpO1xuICB9XG5cbiAgZWwgPSB1dGlsLnVud3JhcEVsZW1lbnQoZWwpO1xuXG4gIC8vIG90aGVyd2lzZSBsZXQgV0RBIGhhbmRsZSBhdHRyaWJ1dGUgcmVxdWVzdHNcbiAgbGV0IHZhbHVlID0gYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoYC9lbGVtZW50LyR7ZWx9L2F0dHJpYnV0ZS8ke2F0dHJpYnV0ZX1gLCAnR0VUJyk7XG4gIC8vIFRyYW5zZm9ybSB0aGUgcmVzdWx0IGZvciB0aGUgY2FzZSB3aGVuIFdEQSByZXR1cm5zIGFuIGludGVnZXIgcmVwcmVzZW50YXRpb24gZm9yIGEgYm9vbGVhbiB2YWx1ZVxuICBpZiAoWzAsIDFdLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgIHZhbHVlID0gISF2YWx1ZTtcbiAgfVxuICAvLyBUaGUgcmV0dXJuZWQgdmFsdWUgbXVzdCBiZSBvZiB0eXBlIHN0cmluZyBhY2NvcmRpbmcgdG8gaHR0cHM6Ly93d3cudzMub3JnL1RSL3dlYmRyaXZlci8jZ2V0LWVsZW1lbnQtYXR0cmlidXRlXG4gIHJldHVybiAoXy5pc051bGwodmFsdWUpIHx8IF8uaXNTdHJpbmcodmFsdWUpKSA/IHZhbHVlIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xufTtcblxuY29tbWFuZHMuZ2V0QXR0cmlidXRlID0gYXN5bmMgZnVuY3Rpb24gZ2V0QXR0cmlidXRlIChhdHRyaWJ1dGUsIGVsKSB7XG4gIGVsID0gdXRpbC51bndyYXBFbGVtZW50KGVsKTtcbiAgaWYgKCF0aGlzLmlzV2ViQ29udGV4dCgpKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0TmF0aXZlQXR0cmlidXRlKGF0dHJpYnV0ZSwgZWwpO1xuICB9XG4gIGNvbnN0IGF0b21zRWxlbWVudCA9IHRoaXMuZ2V0QXRvbXNFbGVtZW50KGVsKTtcbiAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZUF0b20oJ2dldF9hdHRyaWJ1dGVfdmFsdWUnLCBbYXRvbXNFbGVtZW50LCBhdHRyaWJ1dGVdKTtcbn07XG5cbmNvbW1hbmRzLmdldFByb3BlcnR5ID0gYXN5bmMgZnVuY3Rpb24gZ2V0UHJvcGVydHkgKHByb3BlcnR5LCBlbCkge1xuICBlbCA9IHV0aWwudW53cmFwRWxlbWVudChlbCk7XG4gIGlmICghdGhpcy5pc1dlYkNvbnRleHQoKSkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmdldE5hdGl2ZUF0dHJpYnV0ZShwcm9wZXJ0eSwgZWwpO1xuICB9XG4gIGNvbnN0IGF0b21zRWxlbWVudCA9IHRoaXMuZ2V0QXRvbXNFbGVtZW50KGVsKTtcbiAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlY3V0ZUF0b20oJ2dldF9hdHRyaWJ1dGVfdmFsdWUnLCBbYXRvbXNFbGVtZW50LCBwcm9wZXJ0eV0pO1xufTtcblxuY29tbWFuZHMuZ2V0VGV4dCA9IGFzeW5jIGZ1bmN0aW9uIGdldFRleHQgKGVsKSB7XG4gIGVsID0gdXRpbC51bndyYXBFbGVtZW50KGVsKTtcbiAgaWYgKCF0aGlzLmlzV2ViQ29udGV4dCgpKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucHJveHlDb21tYW5kKGAvZWxlbWVudC8ke2VsfS90ZXh0YCwgJ0dFVCcpO1xuICB9XG4gIGxldCBhdG9tc0VsZW1lbnQgPSB0aGlzLmdldEF0b21zRWxlbWVudChlbCk7XG4gIHJldHVybiBhd2FpdCB0aGlzLmV4ZWN1dGVBdG9tKCdnZXRfdGV4dCcsIFthdG9tc0VsZW1lbnRdKTtcbn07XG5cbmNvbW1hbmRzLmdldEVsZW1lbnRSZWN0ID0gYXN5bmMgZnVuY3Rpb24gZ2V0RWxlbWVudFJlY3QgKGVsKSB7XG4gIGlmICh0aGlzLmlzV2ViQ29udGV4dCgpKSB7XG4gICAgLy8gTW9iaWxlIHNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgcmVjdFxuICAgIGNvbnN0IHt4LCB5fSA9IGF3YWl0IHRoaXMuZ2V0TG9jYXRpb24oZWwpO1xuICAgIGNvbnN0IHt3aWR0aCwgaGVpZ2h0fSA9IGF3YWl0IHRoaXMuZ2V0U2l6ZShlbCk7XG4gICAgcmV0dXJuIHt4LCB5LCB3aWR0aCwgaGVpZ2h0fTtcbiAgfVxuXG4gIGVsID0gdXRpbC51bndyYXBFbGVtZW50KGVsKTtcbiAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0TmF0aXZlUmVjdChlbCk7XG59O1xuXG5leHRlbnNpb25zLmdldE5hdGl2ZVJlY3QgPSBhc3luYyBmdW5jdGlvbiBnZXROYXRpdmVSZWN0IChlbCkge1xuICByZXR1cm4gYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoYC9lbGVtZW50LyR7ZWx9L3JlY3RgLCAnR0VUJyk7XG59O1xuXG5jb21tYW5kcy5nZXRMb2NhdGlvbiA9IGFzeW5jIGZ1bmN0aW9uIGdldExvY2F0aW9uIChlbCkge1xuICBlbCA9IHV0aWwudW53cmFwRWxlbWVudChlbCk7XG4gIGlmICh0aGlzLmlzV2ViQ29udGV4dCgpKSB7XG4gICAgY29uc3QgYXRvbXNFbGVtZW50ID0gYXdhaXQgdGhpcy5nZXRBdG9tc0VsZW1lbnQoZWwpO1xuICAgIGxldCBsb2MgPSBhd2FpdCB0aGlzLmV4ZWN1dGVBdG9tKCdnZXRfdG9wX2xlZnRfY29vcmRpbmF0ZXMnLCBbYXRvbXNFbGVtZW50XSk7XG4gICAgaWYgKHRoaXMub3B0cy5hYnNvbHV0ZVdlYkxvY2F0aW9ucykge1xuICAgICAgY29uc3Qgc2NyaXB0ID0gJ3JldHVybiBbJyArXG4gICAgICAgICdNYXRoLm1heCh3aW5kb3cucGFnZVhPZmZzZXQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0KSwnICtcbiAgICAgICAgJ01hdGgubWF4KHdpbmRvdy5wYWdlWU9mZnNldCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKV07JztcbiAgICAgIGNvbnN0IFt4T2Zmc2V0LCB5T2Zmc2V0XSA9IGF3YWl0IHRoaXMuZXhlY3V0ZShzY3JpcHQpO1xuICAgICAgbG9jLnggKz0geE9mZnNldDtcbiAgICAgIGxvYy55ICs9IHlPZmZzZXQ7XG4gICAgfVxuICAgIHJldHVybiBsb2M7XG4gIH1cblxuICBjb25zdCByZWN0ID0gYXdhaXQgdGhpcy5nZXRFbGVtZW50UmVjdChlbCk7XG4gIHJldHVybiB7eDogcmVjdC54LCB5OiByZWN0Lnl9O1xufTtcblxuY29tbWFuZHMuZ2V0TG9jYXRpb25JblZpZXcgPSBhc3luYyBmdW5jdGlvbiBnZXRMb2NhdGlvbkluVmlldyAoZWwpIHtcbiAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0TG9jYXRpb24oZWwpO1xufTtcblxuY29tbWFuZHMuZ2V0U2l6ZSA9IGFzeW5jIGZ1bmN0aW9uIGdldFNpemUgKGVsKSB7XG4gIGVsID0gdXRpbC51bndyYXBFbGVtZW50KGVsKTtcbiAgaWYgKHRoaXMuaXNXZWJDb250ZXh0KCkpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5leGVjdXRlQXRvbSgnZ2V0X3NpemUnLCBbdGhpcy5nZXRBdG9tc0VsZW1lbnQoZWwpXSk7XG4gIH1cblxuICBjb25zdCByZWN0ID0gYXdhaXQgdGhpcy5nZXRFbGVtZW50UmVjdChlbCk7XG4gIHJldHVybiB7d2lkdGg6IHJlY3Qud2lkdGgsIGhlaWdodDogcmVjdC5oZWlnaHR9O1xufTtcblxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgaW5wdXQgdmFsdWUgdG8gYmUgcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIFdEQS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ3xBcnJheTxzdHJpbmc+fG51bWJlcn0gaW5wIFRoZSBhY3R1YWwgdGV4dCB0byB0eXBlLlxuICogQWNjZXB0YWJsZSB2YWx1ZXMgb2YgYGlucGA6XG4gKiAgIFsnc29tZSB0ZXh0J11cbiAqICAgWydzJywgJ28nLCAnbScsICdlJywgJyAnLCAndCcsICdlJywgJ3gnLCAndCddXG4gKiAgICdzb21lIHRleHQnXG4gKiAgIDEyMzRcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgdmFsdWUgaXMgbm90IGFjY2VwdGFibGUgZm9yIGlucHV0XG4gKiBAcmV0dXJucyB7QXJyYXk8c3RyaW5nPn0gVGhlIHByZXByb2Nlc3NlZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBwcmVwYXJlSW5wdXRWYWx1ZSAoaW5wKSB7XG4gIGlmICghW18uaXNBcnJheSwgXy5pc1N0cmluZywgXy5pc0Zpbml0ZV0uc29tZSgoZikgPT4gZihpbnApKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgT25seSBzdHJpbmdzLCBudW1iZXJzIGFuZCBhcnJheXMgYXJlIHN1cHBvcnRlZCBhcyBpbnB1dCBhcmd1bWVudHMuIGAgK1xuICAgICAgYFJlY2VpdmVkOiAke0pTT04uc3RyaW5naWZ5KGlucCl9YCk7XG4gIH1cblxuICAvLyBtYWtlIGl0IGludG8gYSBzdHJpbmcsIHNvIHRoZW4gd2UgYXNzdXJlXG4gIC8vIHRoZSBhcnJheSBpdGVtcyBhcmUgc2luZ2xlIGNoYXJhY3RlcnNcbiAgaWYgKF8uaXNBcnJheShpbnApKSB7XG4gICAgaW5wID0gaW5wLmpvaW4oJycpO1xuICB9IGVsc2UgaWYgKF8uaXNGaW5pdGUoaW5wKSkge1xuICAgIGlucCA9IGAke2lucH1gO1xuICB9XG4gIC8vIFRoZSBgc3BsaXRgIG1ldGhvZCBtdXN0IG5vdCBiZSB1c2VkIG9uIHRoZSBzdHJpbmdcbiAgLy8gdG8gcHJvcGVybHkgaGFuZGxlIGFsbCBVbmljb2RlIGNvZGUgcG9pbnRzXG4gIHJldHVybiBbLi4uaW5wXS5tYXAoKGspID0+IHtcbiAgICBpZiAoWydcXHVFMDA2JywgJ1xcdUUwMDcnXS5pbmNsdWRlcyhrKSkgeyAvLyBSRVRVUk4gb3IgRU5URVJcbiAgICAgIHJldHVybiAnXFxuJztcbiAgICB9XG4gICAgaWYgKFsnXFx1RTAwMycsICdcXHVlMDE3J10uaW5jbHVkZXMoaykpIHsgLy8gQkFDS1NQQUNFIG9yIERFTEVURVxuICAgICAgcmV0dXJuICdcXGInO1xuICAgIH1cbiAgICByZXR1cm4gaztcbiAgfSk7XG59XG5cbmNvbW1hbmRzLnNldFZhbHVlSW1tZWRpYXRlID0gYXN5bmMgZnVuY3Rpb24gc2V0VmFsdWVJbW1lZGlhdGUgKHZhbHVlLCBlbCkge1xuICAvLyBXREEgZG9lcyBub3QgcHJvdmlkZSBubyB3YXkgdG8gc2V0IHRoZSB2YWx1ZSBkaXJlY3RseVxuICB0aGlzLmxvZy5pbmZvKCdUaGVyZSBpcyBjdXJyZW50bHkgbm8gd2F5IHRvIGJ5cGFzcyB0eXBpbmcgdXNpbmcgWENVSVRlc3QuIFNldHRpbmcgdmFsdWUgdGhyb3VnaCBrZXlib2FyZCcpO1xuICBhd2FpdCB0aGlzLnNldFZhbHVlKHZhbHVlLCBlbCk7XG59O1xuXG5jb21tYW5kcy5zZXRWYWx1ZSA9IGFzeW5jIGZ1bmN0aW9uIHNldFZhbHVlICh2YWx1ZSwgZWwpIHtcbiAgZWwgPSB1dGlsLnVud3JhcEVsZW1lbnQoZWwpO1xuICBpZiAoIXRoaXMuaXNXZWJDb250ZXh0KCkpIHtcbiAgICBhd2FpdCB0aGlzLnByb3h5Q29tbWFuZChgL2VsZW1lbnQvJHtlbH0vdmFsdWVgLCAnUE9TVCcsIHtcbiAgICAgIHZhbHVlOiBwcmVwYXJlSW5wdXRWYWx1ZSh2YWx1ZSksXG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYXRvbXNFbGVtZW50ID0gdGhpcy5nZXRBdG9tc0VsZW1lbnQoZWwpO1xuICBhd2FpdCB0aGlzLmV4ZWN1dGVBdG9tKCdjbGljaycsIFthdG9tc0VsZW1lbnRdKTtcbiAgYXdhaXQgdGhpcy5leGVjdXRlQXRvbSgndHlwZScsIFthdG9tc0VsZW1lbnQsIHZhbHVlXSk7XG59O1xuXG5jb21tYW5kcy5rZXlzID0gYXN5bmMgZnVuY3Rpb24ga2V5cyAodmFsdWUpIHtcbiAgYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoJy93ZGEva2V5cycsICdQT1NUJywge1xuICAgIHZhbHVlOiBwcmVwYXJlSW5wdXRWYWx1ZSh2YWx1ZSksXG4gIH0pO1xufTtcblxuY29tbWFuZHMuY2xlYXIgPSBhc3luYyBmdW5jdGlvbiBjbGVhciAoZWwpIHtcbiAgZWwgPSB1dGlsLnVud3JhcEVsZW1lbnQoZWwpO1xuICBpZiAodGhpcy5pc1dlYkNvbnRleHQoKSkge1xuICAgIGNvbnN0IGF0b21zRWxlbWVudCA9IHRoaXMuZ2V0QXRvbXNFbGVtZW50KGVsKTtcbiAgICBhd2FpdCB0aGlzLmV4ZWN1dGVBdG9tKCdjbGVhcicsIFthdG9tc0VsZW1lbnRdKTtcbiAgICByZXR1cm47XG4gIH1cbiAgYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoYC9lbGVtZW50LyR7ZWx9L2NsZWFyYCwgJ1BPU1QnKTtcbn07XG5cbmNvbW1hbmRzLmdldENvbnRlbnRTaXplID0gYXN5bmMgZnVuY3Rpb24gZ2V0Q29udGVudFNpemUgKGVsKSB7XG4gIGlmICh0aGlzLmlzV2ViQ29udGV4dCgpKSB7XG4gICAgdGhyb3cgbmV3IGVycm9ycy5Ob3RZZXRJbXBsZW1lbnRlZEVycm9yKCdTdXBwb3J0IGZvciBnZXRDb250ZW50U2l6ZSBmb3Igd2ViIGNvbnRleHQgaXMgbm90IHlldCBpbXBsZW1lbnRlZC4gUGxlYXNlIGNvbnRhY3QgYW4gQXBwaXVtIGRldicpO1xuICB9XG5cbiAgY29uc3QgdHlwZSA9IGF3YWl0IHRoaXMuZ2V0QXR0cmlidXRlKCd0eXBlJywgZWwpO1xuXG4gIGlmICh0eXBlICE9PSAnWENVSUVsZW1lbnRUeXBlVGFibGUnICYmXG4gICAgICB0eXBlICE9PSAnWENVSUVsZW1lbnRUeXBlQ29sbGVjdGlvblZpZXcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBnZXQgY29udGVudCBzaXplIGZvciB0eXBlICcke3R5cGV9Jywgb25seSBmb3IgYCArXG4gICAgICAgICAgICAgICAgICAgIGB0YWJsZXMgYW5kIGNvbGxlY3Rpb24gdmlld3NgKTtcbiAgfVxuICBsZXQgbG9jYXRvciA9ICcqJztcbiAgaWYgKHR5cGUgPT09ICdYQ1VJRWxlbWVudFR5cGVUYWJsZScpIHtcbiAgICAvLyBvbmx5IGZpbmQgdGFibGUgY2VsbHMsIG5vdCBqdXN0IGFueSBjaGlsZHJlblxuICAgIGxvY2F0b3IgPSAnWENVSUVsZW1lbnRUeXBlQ2VsbCc7XG4gIH1cblxuICBsZXQgY29udGVudEhlaWdodCA9IDA7XG4gIGNvbnN0IGNoaWxkcmVuID0gYXdhaXQgdGhpcy5maW5kRWxPckVscyhgY2xhc3MgY2hhaW5gLCBsb2NhdG9yLCB0cnVlLCBlbCk7XG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBpZiB3ZSBrbm93IHRoZXJlJ3Mgb25seSBvbmUgZWxlbWVudCwgd2UgY2FuIG9wdGltaXplIHRvIG1ha2UganVzdCBvbmVcbiAgICAvLyBjYWxsIHRvIFdEQVxuICAgIGNvbnN0IHJlY3QgPSBhd2FpdCB0aGlzLmdldEVsZW1lbnRSZWN0KF8uaGVhZChjaGlsZHJlbikpO1xuICAgIGNvbnRlbnRIZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAvLyBvdGhlcndpc2UgaWYgd2UgaGF2ZSBtdWx0aXBsZSBlbGVtZW50cywgbG9naWMgZGlmZmVycyBiYXNlZCBvbiBlbGVtZW50XG4gICAgLy8gdHlwZVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnWENVSUVsZW1lbnRUeXBlVGFibGUnOiB7XG4gICAgICAgIGNvbnN0IGZpcnN0UmVjdCA9IGF3YWl0IHRoaXMuZ2V0RWxlbWVudFJlY3QoXy5oZWFkKGNoaWxkcmVuKSk7XG4gICAgICAgIGNvbnN0IGxhc3RSZWN0ID0gYXdhaXQgdGhpcy5nZXRFbGVtZW50UmVjdChfLmxhc3QoY2hpbGRyZW4pKTtcbiAgICAgICAgY29udGVudEhlaWdodCA9IGxhc3RSZWN0LnkgKyBsYXN0UmVjdC5oZWlnaHQgLSBmaXJzdFJlY3QueTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdYQ1VJRWxlbWVudFR5cGVDb2xsZWN0aW9uVmlldyc6IHtcbiAgICAgICAgbGV0IGVsc0luUm93ID0gMTsgLy8gd2Uga25vdyB0aGVyZSBtdXN0IGJlIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSByb3dcbiAgICAgICAgbGV0IGZpcnN0UmVjdCA9IGF3YWl0IHRoaXMuZ2V0RWxlbWVudFJlY3QoXy5oZWFkKGNoaWxkcmVuKSk7XG4gICAgICAgIGxldCBpbml0aWFsUmVjdHMgPSBbZmlyc3RSZWN0XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHJlY3QgPSBhd2FpdCB0aGlzLmdldEVsZW1lbnRSZWN0KGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICBpbml0aWFsUmVjdHMucHVzaChyZWN0KTtcbiAgICAgICAgICBpZiAocmVjdC55ICE9PSBmaXJzdFJlY3QueSkge1xuICAgICAgICAgICAgZWxzSW5Sb3cgPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNwYWNlQmV0d2VlbkVscyA9IGluaXRpYWxSZWN0c1tlbHNJblJvd10ueSAtIGluaXRpYWxSZWN0c1tlbHNJblJvdyAtIDFdLnkgLSBpbml0aWFsUmVjdHNbZWxzSW5Sb3cgLSAxXS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IG51bVJvd3MgPSBNYXRoLmNlaWwoY2hpbGRyZW4ubGVuZ3RoIC8gZWxzSW5Sb3cpO1xuXG4gICAgICAgIC8vIGFzc3VtZSBhbGwgY2VsbHMgYXJlIHRoZSBzYW1lIGhlaWdodFxuICAgICAgICBjb250ZW50SGVpZ2h0ID0gKG51bVJvd3MgKiBmaXJzdFJlY3QuaGVpZ2h0KSArIChzcGFjZUJldHdlZW5FbHMgKiAobnVtUm93cyAtIDEpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoYFByb2dyYW1taW5nIGVycm9yOiB0eXBlICcke3R5cGV9JyB3YXMgbm90IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGB2YWxpZCBidXQgc2hvdWxkIGhhdmUgYWxyZWFkeSBiZWVuIHJlamVjdGVkYCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNpemUgPSBhd2FpdCB0aGlzLmdldFNpemUoZWwpO1xuICBjb25zdCBvcmlnaW4gPSBhd2FpdCB0aGlzLmdldExvY2F0aW9uSW5WaWV3KGVsKTtcbiAgLy8gYXR0cmlidXRlcyBoYXZlIHRvIGJlIHN0cmluZ3MsIHNvIHN0cmluZ2lmeSB0aGlzIHVwXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgd2lkdGg6IHNpemUud2lkdGgsXG4gICAgaGVpZ2h0OiBzaXplLmhlaWdodCxcbiAgICB0b3A6IG9yaWdpbi55LFxuICAgIGxlZnQ6IG9yaWdpbi54LFxuICAgIHNjcm9sbGFibGVPZmZzZXQ6IGNvbnRlbnRIZWlnaHRcbiAgfSk7XG59O1xuXG5jb21tYW5kcy5pc0tleWJvYXJkU2hvd24gPSBhc3luYyBmdW5jdGlvbiBpc0tleWJvYXJkU2hvd24gKCkge1xuICB0cnkge1xuICAgIGF3YWl0IHRoaXMuZmluZE5hdGl2ZUVsZW1lbnRPckVsZW1lbnRzKCdjbGFzcyBuYW1lJywgJ1hDVUlFbGVtZW50VHlwZUtleWJvYXJkJywgZmFsc2UpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChpZ24pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbk9iamVjdC5hc3NpZ24oZXh0ZW5zaW9ucywgY29tbWFuZHMpO1xuZXhwb3J0IHsgY29tbWFuZHMgfTtcbmV4cG9ydCBkZWZhdWx0IGV4dGVuc2lvbnM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FB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