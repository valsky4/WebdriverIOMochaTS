{"version":3,"file":"iohid.js","names":["_driver","require","commands","exports","mobilePerformIoHidEvent","opts","page","parseInt","Number","isNaN","errors","InvalidArgumentError","usage","duration","parseFloat","durationSeconds","proxyCommand","_default","default"],"sources":["../../../lib/commands/iohid.js"],"sourcesContent":["import { errors } from 'appium/driver';\n\nconst commands = {};\n\n/**\n * @typedef {Object} HIDEventOptions\n * @property {!number|string} page The event page identifier\n * @property {!number|string} usage The event usage identifier (usages are defined per-page)\n * @property {!number|string} durationSeconds The event duration in float seconds\n * (XCTest uses 0.005 for a single press event)\n */\n\n/**\n * Emulates triggering of the given low-level IO HID device event. The constants for possible events are defined\n * in https://unix.superglobalmegacorp.com/xnu/newsrc/iokit/IOKit/hidsystem/IOHIDUsageTables.h.html\n * Popular constants:\n * - kHIDPage_Consumer = 0x0C\n * - kHIDUsage_Csmr_VolumeIncrement  = 0xE9 (Volume Up)\n * - kHIDUsage_Csmr_VolumeDecrement  = 0xEA (Volume Down)\n * - kHIDUsage_Csmr_Menu = 0x40 (Home)\n * - kHIDUsage_Csmr_Power  = 0x30 (Power)\n * - kHIDUsage_Csmr_Snapshot  = 0x65 (Power + Home)\n *\n * @param {HIDEventOptions} opts\n */\ncommands.mobilePerformIoHidEvent = async function mobilePerformIoHidEvent (opts = {}) {\n  const page = parseInt(opts.page, 10);\n  if (Number.isNaN(page)) {\n    throw new errors.InvalidArgumentError(`'page' argument must be a valid integer`);\n  }\n  const usage = parseInt(opts.usage, 10);\n  if (Number.isNaN(usage)) {\n    throw new errors.InvalidArgumentError(`'usage' argument must be a valid integer`);\n  }\n  const duration = parseFloat(opts.durationSeconds);\n  if (Number.isNaN(duration)) {\n    throw new errors.InvalidArgumentError(`'durationSeconds' argument must be a valid number`);\n  }\n  return await this.proxyCommand('/wda/performIoHidEvent', 'POST', { page, usage, duration });\n};\n\nexport { commands };\nexport default commands;\n"],"mappings":";;;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAEA,MAAMC,QAAQ,GAAG,CAAC,CAAC;AAACC,OAAA,CAAAD,QAAA,GAAAA,QAAA;AAuBpBA,QAAQ,CAACE,uBAAuB,GAAG,eAAeA,uBAAuBA,CAAEC,IAAI,GAAG,CAAC,CAAC,EAAE;EACpF,MAAMC,IAAI,GAAGC,QAAQ,CAACF,IAAI,CAACC,IAAI,EAAE,EAAE,CAAC;EACpC,IAAIE,MAAM,CAACC,KAAK,CAACH,IAAI,CAAC,EAAE;IACtB,MAAM,IAAII,cAAM,CAACC,oBAAoB,CAAE,yCAAwC,CAAC;EAClF;EACA,MAAMC,KAAK,GAAGL,QAAQ,CAACF,IAAI,CAACO,KAAK,EAAE,EAAE,CAAC;EACtC,IAAIJ,MAAM,CAACC,KAAK,CAACG,KAAK,CAAC,EAAE;IACvB,MAAM,IAAIF,cAAM,CAACC,oBAAoB,CAAE,0CAAyC,CAAC;EACnF;EACA,MAAME,QAAQ,GAAGC,UAAU,CAACT,IAAI,CAACU,eAAe,CAAC;EACjD,IAAIP,MAAM,CAACC,KAAK,CAACI,QAAQ,CAAC,EAAE;IAC1B,MAAM,IAAIH,cAAM,CAACC,oBAAoB,CAAE,mDAAkD,CAAC;EAC5F;EACA,OAAO,MAAM,IAAI,CAACK,YAAY,CAAC,wBAAwB,EAAE,MAAM,EAAE;IAAEV,IAAI;IAAEM,KAAK;IAAEC;EAAS,CAAC,CAAC;AAC7F,CAAC;AAAC,IAAAI,QAAA,GAGaf,QAAQ;AAAAC,OAAA,CAAAe,OAAA,GAAAD,QAAA"}