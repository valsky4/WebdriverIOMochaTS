"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.SimulateLocationService = exports.SIMULATE_LOCATION_SERVICE_NAME = void 0;
require("source-map-support/register");
var _baseService = require("../base-service");
const SIMULATE_LOCATION_SERVICE_NAME = 'com.apple.dt.simulatelocation';
exports.SIMULATE_LOCATION_SERVICE_NAME = SIMULATE_LOCATION_SERVICE_NAME;
const RESET_MESSAGE = Buffer.from([0, 0, 0, 1]);
const SET_LOCATION_MESSAGE = Buffer.from([0, 0, 0, 0]);
class SimulateLocationService extends _baseService.BaseServiceSocket {
  resetLocation() {
    this._socketClient.write(RESET_MESSAGE);
  }
  setLocation(lat, long) {
    lat = `${lat}`;
    long = `${long}`;
    const lat_length = Buffer.alloc(4);
    lat_length.writeInt32BE(lat.length);
    const long_length = Buffer.alloc(4);
    long_length.writeInt32BE(long.length);
    this._socketClient.write(SET_LOCATION_MESSAGE);
    this._socketClient.write(lat_length);
    this._socketClient.write(lat);
    this._socketClient.write(long_length);
    this._socketClient.write(long);
  }
}
exports.SimulateLocationService = SimulateLocationService;
var _default = SimulateLocationService;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmFzZVNlcnZpY2UiLCJyZXF1aXJlIiwiU0lNVUxBVEVfTE9DQVRJT05fU0VSVklDRV9OQU1FIiwiZXhwb3J0cyIsIlJFU0VUX01FU1NBR0UiLCJCdWZmZXIiLCJmcm9tIiwiU0VUX0xPQ0FUSU9OX01FU1NBR0UiLCJTaW11bGF0ZUxvY2F0aW9uU2VydmljZSIsIkJhc2VTZXJ2aWNlU29ja2V0IiwicmVzZXRMb2NhdGlvbiIsIl9zb2NrZXRDbGllbnQiLCJ3cml0ZSIsInNldExvY2F0aW9uIiwibGF0IiwibG9uZyIsImxhdF9sZW5ndGgiLCJhbGxvYyIsIndyaXRlSW50MzJCRSIsImxlbmd0aCIsImxvbmdfbGVuZ3RoIiwiX2RlZmF1bHQiLCJkZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vbGliL3NpbXVsYXRlbG9jYXRpb24vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmFzZVNlcnZpY2VTb2NrZXQgfSBmcm9tICcuLi9iYXNlLXNlcnZpY2UnO1xuXG5cbmNvbnN0IFNJTVVMQVRFX0xPQ0FUSU9OX1NFUlZJQ0VfTkFNRSA9ICdjb20uYXBwbGUuZHQuc2ltdWxhdGVsb2NhdGlvbic7XG5cbmNvbnN0IFJFU0VUX01FU1NBR0UgPSBCdWZmZXIuZnJvbShbMCwgMCwgMCwgMV0pO1xuY29uc3QgU0VUX0xPQ0FUSU9OX01FU1NBR0UgPSBCdWZmZXIuZnJvbShbMCwgMCwgMCwgMF0pO1xuXG5jbGFzcyBTaW11bGF0ZUxvY2F0aW9uU2VydmljZSBleHRlbmRzIEJhc2VTZXJ2aWNlU29ja2V0IHtcbiAgLyoqXG4gICAqIFJlc2V0IHRoZSBtb2NrIGxvY2F0aW9uIHRvIHRoZSBwaG9uZXMgb3JpZ2luYWwgc2V0dGluZ3NcbiAgICovXG4gIHJlc2V0TG9jYXRpb24gKCkge1xuICAgIHRoaXMuX3NvY2tldENsaWVudC53cml0ZShSRVNFVF9NRVNTQUdFKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1vY2sgbG9jYXRpb24gb24gdGhlIGRldmljZVxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGxhdCBUaGUgbGF0aXR1ZGUgdGhhdCB3YW50cyB0byBiZSBzZXQgb24gdGhlIGRldmljZVxuICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGxvbmcgVGhlIGxvbmdpdHVkZSB0aGF0IHdhbnRzIHRvIGJlIHNldCBvbiB0aGUgZGV2aWNlXG4gICAqL1xuICBzZXRMb2NhdGlvbiAobGF0LCBsb25nKSB7XG4gICAgbGF0ID0gYCR7bGF0fWA7XG4gICAgbG9uZyA9IGAke2xvbmd9YDtcblxuICAgIGNvbnN0IGxhdF9sZW5ndGggPSBCdWZmZXIuYWxsb2MoNCk7XG4gICAgbGF0X2xlbmd0aC53cml0ZUludDMyQkUobGF0Lmxlbmd0aCk7XG5cbiAgICBjb25zdCBsb25nX2xlbmd0aCA9IEJ1ZmZlci5hbGxvYyg0KTtcbiAgICBsb25nX2xlbmd0aC53cml0ZUludDMyQkUobG9uZy5sZW5ndGgpO1xuXG4gICAgdGhpcy5fc29ja2V0Q2xpZW50LndyaXRlKFNFVF9MT0NBVElPTl9NRVNTQUdFKTtcblxuICAgIHRoaXMuX3NvY2tldENsaWVudC53cml0ZShsYXRfbGVuZ3RoKTtcbiAgICB0aGlzLl9zb2NrZXRDbGllbnQud3JpdGUobGF0KTtcblxuICAgIHRoaXMuX3NvY2tldENsaWVudC53cml0ZShsb25nX2xlbmd0aCk7XG4gICAgdGhpcy5fc29ja2V0Q2xpZW50LndyaXRlKGxvbmcpO1xuICB9XG59XG5cbmV4cG9ydCB7IFNpbXVsYXRlTG9jYXRpb25TZXJ2aWNlLCBTSU1VTEFURV9MT0NBVElPTl9TRVJWSUNFX05BTUUgfTtcbmV4cG9ydCBkZWZhdWx0IFNpbXVsYXRlTG9jYXRpb25TZXJ2aWNlO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsWUFBQSxHQUFBQyxPQUFBO0FBR0EsTUFBTUMsOEJBQThCLEdBQUcsK0JBQStCO0FBQUNDLE9BQUEsQ0FBQUQsOEJBQUEsR0FBQUEsOEJBQUE7QUFFdkUsTUFBTUUsYUFBYSxHQUFHQyxNQUFNLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQy9DLE1BQU1DLG9CQUFvQixHQUFHRixNQUFNLENBQUNDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBRXRELE1BQU1FLHVCQUF1QixTQUFTQyw4QkFBaUIsQ0FBQztFQUl0REMsYUFBYUEsQ0FBQSxFQUFJO0lBQ2YsSUFBSSxDQUFDQyxhQUFhLENBQUNDLEtBQUssQ0FBQ1IsYUFBYSxDQUFDO0VBQ3pDO0VBT0FTLFdBQVdBLENBQUVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFO0lBQ3RCRCxHQUFHLEdBQUksR0FBRUEsR0FBSSxFQUFDO0lBQ2RDLElBQUksR0FBSSxHQUFFQSxJQUFLLEVBQUM7SUFFaEIsTUFBTUMsVUFBVSxHQUFHWCxNQUFNLENBQUNZLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDbENELFVBQVUsQ0FBQ0UsWUFBWSxDQUFDSixHQUFHLENBQUNLLE1BQU0sQ0FBQztJQUVuQyxNQUFNQyxXQUFXLEdBQUdmLE1BQU0sQ0FBQ1ksS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNuQ0csV0FBVyxDQUFDRixZQUFZLENBQUNILElBQUksQ0FBQ0ksTUFBTSxDQUFDO0lBRXJDLElBQUksQ0FBQ1IsYUFBYSxDQUFDQyxLQUFLLENBQUNMLG9CQUFvQixDQUFDO0lBRTlDLElBQUksQ0FBQ0ksYUFBYSxDQUFDQyxLQUFLLENBQUNJLFVBQVUsQ0FBQztJQUNwQyxJQUFJLENBQUNMLGFBQWEsQ0FBQ0MsS0FBSyxDQUFDRSxHQUFHLENBQUM7SUFFN0IsSUFBSSxDQUFDSCxhQUFhLENBQUNDLEtBQUssQ0FBQ1EsV0FBVyxDQUFDO0lBQ3JDLElBQUksQ0FBQ1QsYUFBYSxDQUFDQyxLQUFLLENBQUNHLElBQUksQ0FBQztFQUNoQztBQUNGO0FBQUNaLE9BQUEsQ0FBQUssdUJBQUEsR0FBQUEsdUJBQUE7QUFBQSxJQUFBYSxRQUFBLEdBR2NiLHVCQUF1QjtBQUFBTCxPQUFBLENBQUFtQixPQUFBLEdBQUFELFFBQUEifQ==