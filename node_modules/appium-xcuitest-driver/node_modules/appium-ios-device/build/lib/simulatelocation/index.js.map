{"version":3,"file":"index.js","names":["_baseService","require","SIMULATE_LOCATION_SERVICE_NAME","exports","RESET_MESSAGE","Buffer","from","SET_LOCATION_MESSAGE","SimulateLocationService","BaseServiceSocket","resetLocation","_socketClient","write","setLocation","lat","long","lat_length","alloc","writeInt32BE","length","long_length","_default","default"],"sources":["../../../lib/simulatelocation/index.js"],"sourcesContent":["import { BaseServiceSocket } from '../base-service';\n\n\nconst SIMULATE_LOCATION_SERVICE_NAME = 'com.apple.dt.simulatelocation';\n\nconst RESET_MESSAGE = Buffer.from([0, 0, 0, 1]);\nconst SET_LOCATION_MESSAGE = Buffer.from([0, 0, 0, 0]);\n\nclass SimulateLocationService extends BaseServiceSocket {\n  /**\n   * Reset the mock location to the phones original settings\n   */\n  resetLocation () {\n    this._socketClient.write(RESET_MESSAGE);\n  }\n\n  /**\n   * Set the mock location on the device\n   * @param {string|number} lat The latitude that wants to be set on the device\n   * @param {string|number} long The longitude that wants to be set on the device\n   */\n  setLocation (lat, long) {\n    lat = `${lat}`;\n    long = `${long}`;\n\n    const lat_length = Buffer.alloc(4);\n    lat_length.writeInt32BE(lat.length);\n\n    const long_length = Buffer.alloc(4);\n    long_length.writeInt32BE(long.length);\n\n    this._socketClient.write(SET_LOCATION_MESSAGE);\n\n    this._socketClient.write(lat_length);\n    this._socketClient.write(lat);\n\n    this._socketClient.write(long_length);\n    this._socketClient.write(long);\n  }\n}\n\nexport { SimulateLocationService, SIMULATE_LOCATION_SERVICE_NAME };\nexport default SimulateLocationService;\n"],"mappings":";;;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAGA,MAAMC,8BAA8B,GAAG,+BAA+B;AAACC,OAAA,CAAAD,8BAAA,GAAAA,8BAAA;AAEvE,MAAME,aAAa,GAAGC,MAAM,CAACC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAC/C,MAAMC,oBAAoB,GAAGF,MAAM,CAACC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AAEtD,MAAME,uBAAuB,SAASC,8BAAiB,CAAC;EAItDC,aAAaA,CAAA,EAAI;IACf,IAAI,CAACC,aAAa,CAACC,KAAK,CAACR,aAAa,CAAC;EACzC;EAOAS,WAAWA,CAAEC,GAAG,EAAEC,IAAI,EAAE;IACtBD,GAAG,GAAI,GAAEA,GAAI,EAAC;IACdC,IAAI,GAAI,GAAEA,IAAK,EAAC;IAEhB,MAAMC,UAAU,GAAGX,MAAM,CAACY,KAAK,CAAC,CAAC,CAAC;IAClCD,UAAU,CAACE,YAAY,CAACJ,GAAG,CAACK,MAAM,CAAC;IAEnC,MAAMC,WAAW,GAAGf,MAAM,CAACY,KAAK,CAAC,CAAC,CAAC;IACnCG,WAAW,CAACF,YAAY,CAACH,IAAI,CAACI,MAAM,CAAC;IAErC,IAAI,CAACR,aAAa,CAACC,KAAK,CAACL,oBAAoB,CAAC;IAE9C,IAAI,CAACI,aAAa,CAACC,KAAK,CAACI,UAAU,CAAC;IACpC,IAAI,CAACL,aAAa,CAACC,KAAK,CAACE,GAAG,CAAC;IAE7B,IAAI,CAACH,aAAa,CAACC,KAAK,CAACQ,WAAW,CAAC;IACrC,IAAI,CAACT,aAAa,CAACC,KAAK,CAACG,IAAI,CAAC;EAChC;AACF;AAACZ,OAAA,CAAAK,uBAAA,GAAAA,uBAAA;AAAA,IAAAa,QAAA,GAGcb,uBAAuB;AAAAL,OAAA,CAAAmB,OAAA,GAAAD,QAAA"}