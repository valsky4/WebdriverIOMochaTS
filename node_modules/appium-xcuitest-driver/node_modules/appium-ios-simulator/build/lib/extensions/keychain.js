"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
require("source-map-support/register");
var _lodash = _interopRequireDefault(require("lodash"));
var _path = _interopRequireDefault(require("path"));
var _support = require("@appium/support");
var _logger = _interopRequireDefault(require("../logger"));
var _teen_process = require("teen_process");
var _utils = require("../utils");
const extensions = {};
extensions.getLaunchDaemonsRoot = async function getLaunchDaemonsRoot() {
  const devRoot = await (0, _utils.getDeveloperRoot)();
  return _path.default.resolve(devRoot, 'Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator.sdk/System/Library/LaunchDaemons');
};
extensions.backupKeychains = async function backupKeychains() {
  if (!(await _support.fs.exists(this.keychainPath))) {
    return false;
  }
  const backupPath = await _support.tempDir.path({
    prefix: `keychains_backup_${Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1)}`,
    suffix: '.zip'
  });
  const zipArgs = ['-r', backupPath, `${this.keychainPath}${_path.default.sep}`];
  _logger.default.debug(`Creating keychains backup with 'zip ${zipArgs.join(' ')}' command`);
  await (0, _teen_process.exec)('zip', zipArgs);
  if (_lodash.default.isString(this._keychainsBackupPath) && (await _support.fs.exists(this._keychainsBackupPath))) {
    await _support.fs.unlink(this._keychainsBackupPath);
  }
  this._keychainsBackupPath = backupPath;
  return true;
};
extensions.restoreKeychains = async function restoreKeychains(excludePatterns = []) {
  if (!_lodash.default.isString(this._keychainsBackupPath) || !(await _support.fs.exists(this._keychainsBackupPath))) {
    throw new Error(`The keychains backup archive does not exist. ` + `Are you sure it was created before?`);
  }
  if (_lodash.default.isString(excludePatterns)) {
    excludePatterns = excludePatterns.split(',').map(x => x.trim());
  }
  const isServerRunning = await this.isRunning();
  let plistPath;
  if (isServerRunning) {
    plistPath = _path.default.resolve(await this.getLaunchDaemonsRoot(), 'com.apple.securityd.plist');
    if (!(await _support.fs.exists(plistPath))) {
      throw new Error(`Cannot clear keychains because '${plistPath}' does not exist`);
    }
    await this.simctl.spawnProcess(['launchctl', 'unload', plistPath]);
  }
  try {
    await _support.fs.rimraf(this.keychainPath);
    await (0, _support.mkdirp)(this.keychainPath);
    const unzipArgs = ['-o', this._keychainsBackupPath, ..._lodash.default.flatMap(excludePatterns.map(x => ['-x', x])), '-d', '/'];
    _logger.default.debug(`Restoring keychains with 'unzip ${unzipArgs.join(' ')}' command`);
    await (0, _teen_process.exec)('unzip', unzipArgs);
    await _support.fs.unlink(this._keychainsBackupPath);
    this._keychainsBackupPath = null;
  } finally {
    if (isServerRunning && plistPath) {
      await this.simctl.spawnProcess(['launchctl', 'load', plistPath]);
    }
  }
  return true;
};
extensions.clearKeychains = async function clearKeychains() {
  const plistPath = _path.default.resolve(await this.getLaunchDaemonsRoot(), 'com.apple.securityd.plist');
  if (!(await _support.fs.exists(plistPath))) {
    throw new Error(`Cannot clear keychains because '${plistPath}' does not exist`);
  }
  await this.simctl.spawnProcess(['launchctl', 'unload', plistPath]);
  try {
    if (await _support.fs.exists(this.keychainPath)) {
      await _support.fs.rimraf(this.keychainPath);
      await (0, _support.mkdirp)(this.keychainPath);
    }
  } finally {
    await this.simctl.spawnProcess(['launchctl', 'load', plistPath]);
  }
};
var _default = extensions;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHRlbnNpb25zIiwiZ2V0TGF1bmNoRGFlbW9uc1Jvb3QiLCJkZXZSb290IiwiZ2V0RGV2ZWxvcGVyUm9vdCIsInBhdGgiLCJyZXNvbHZlIiwiYmFja3VwS2V5Y2hhaW5zIiwiZnMiLCJleGlzdHMiLCJrZXljaGFpblBhdGgiLCJiYWNrdXBQYXRoIiwidGVtcERpciIsInByZWZpeCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwic3VmZml4IiwiemlwQXJncyIsInNlcCIsImxvZyIsImRlYnVnIiwiam9pbiIsImV4ZWMiLCJfIiwiaXNTdHJpbmciLCJfa2V5Y2hhaW5zQmFja3VwUGF0aCIsInVubGluayIsInJlc3RvcmVLZXljaGFpbnMiLCJleGNsdWRlUGF0dGVybnMiLCJFcnJvciIsInNwbGl0IiwibWFwIiwieCIsInRyaW0iLCJpc1NlcnZlclJ1bm5pbmciLCJpc1J1bm5pbmciLCJwbGlzdFBhdGgiLCJzaW1jdGwiLCJzcGF3blByb2Nlc3MiLCJyaW1yYWYiLCJta2RpcnAiLCJ1bnppcEFyZ3MiLCJmbGF0TWFwIiwiY2xlYXJLZXljaGFpbnMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvZXh0ZW5zaW9ucy9rZXljaGFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBmcywgbWtkaXJwLCB0ZW1wRGlyIH0gZnJvbSAnQGFwcGl1bS9zdXBwb3J0JztcbmltcG9ydCBsb2cgZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IGV4ZWMgfSBmcm9tICd0ZWVuX3Byb2Nlc3MnO1xuaW1wb3J0IHsgZ2V0RGV2ZWxvcGVyUm9vdCB9IGZyb20gJy4uL3V0aWxzJztcblxuY29uc3QgZXh0ZW5zaW9ucyA9IHt9O1xuXG4vKipcbiAqIFJlc29sdmUgZnVsbCBwYXRoIHRvIFNpbWxhdG9yJ3MgTGF1bmNoRGFlbW9ucyByb290IGZvbGRlclxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEZ1bGwgcGF0aCB0byBTaW1sYXRvcidzIExhdW5jaERhZW1vbnMgcm9vdCBmb2xkZXJcbiAqL1xuZXh0ZW5zaW9ucy5nZXRMYXVuY2hEYWVtb25zUm9vdCA9IGFzeW5jIGZ1bmN0aW9uIGdldExhdW5jaERhZW1vbnNSb290ICgpIHtcbiAgY29uc3QgZGV2Um9vdCA9IGF3YWl0IGdldERldmVsb3BlclJvb3QoKTtcbiAgcmV0dXJuIHBhdGgucmVzb2x2ZShcbiAgICBkZXZSb290LFxuICAgICdQbGF0Zm9ybXMvaVBob25lU2ltdWxhdG9yLnBsYXRmb3JtL0RldmVsb3Blci9TREtzL2lQaG9uZVNpbXVsYXRvci5zZGsvU3lzdGVtL0xpYnJhcnkvTGF1bmNoRGFlbW9ucydcbiAgKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIHRoZSBiYWNrdXAgb2Yga2V5Y2hhaW5zIGZvbGRlci5cbiAqIFRoZSBwcmV2aW91c2x5IGNyZWF0ZWQgYmFja3VwIHdpbGwgYmUgYXV0b21hdGljYWxseVxuICogZGVsZXRlZCBpZiB0aGlzIG1ldGhvZCB3YXMgY2FsbGVkIHR3aWNlIGluIGEgcm93IHdpdGhvdXRcbiAqIGByZXN0b3JlS2V5Y2hhaW5zYCBiZWluZyBpbnZva2VkLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBiYWNrdXAgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsbC5cbiAqL1xuZXh0ZW5zaW9ucy5iYWNrdXBLZXljaGFpbnMgPSBhc3luYyBmdW5jdGlvbiBiYWNrdXBLZXljaGFpbnMgKCkge1xuICBpZiAoIWF3YWl0IGZzLmV4aXN0cyh0aGlzLmtleWNoYWluUGF0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBiYWNrdXBQYXRoID0gYXdhaXQgdGVtcERpci5wYXRoKHtcbiAgICBwcmVmaXg6IGBrZXljaGFpbnNfYmFja3VwXyR7TWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKX1gLFxuICAgIHN1ZmZpeDogJy56aXAnLFxuICB9KTtcbiAgY29uc3QgemlwQXJncyA9IFtcbiAgICAnLXInLCBiYWNrdXBQYXRoLFxuICAgIGAke3RoaXMua2V5Y2hhaW5QYXRofSR7cGF0aC5zZXB9YFxuICBdO1xuICBsb2cuZGVidWcoYENyZWF0aW5nIGtleWNoYWlucyBiYWNrdXAgd2l0aCAnemlwICR7emlwQXJncy5qb2luKCcgJyl9JyBjb21tYW5kYCk7XG4gIGF3YWl0IGV4ZWMoJ3ppcCcsIHppcEFyZ3MpO1xuICBpZiAoXy5pc1N0cmluZyh0aGlzLl9rZXljaGFpbnNCYWNrdXBQYXRoKSAmJiBhd2FpdCBmcy5leGlzdHModGhpcy5fa2V5Y2hhaW5zQmFja3VwUGF0aCkpIHtcbiAgICBhd2FpdCBmcy51bmxpbmsodGhpcy5fa2V5Y2hhaW5zQmFja3VwUGF0aCk7XG4gIH1cbiAgdGhpcy5fa2V5Y2hhaW5zQmFja3VwUGF0aCA9IGJhY2t1cFBhdGg7XG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBSZXN0b3JlIHRoZSBwcmV2aXNvdWx5IGNyZWF0ZWQga2V5Y2hhaW5zIGJhY2t1cC5cbiAqXG4gKiBAcGFyYW0gez9zdHJpbmd8QXJyYXk8c3RyaW5nPn0gZXhjbHVkZVBhdHRlcm5zIC0gVGhlIGxpc3RcbiAqIG9mIGZpbGUgbmFtZSBwYXR0ZXJucyB0byBiZSBleGNsdWRlZCBmcm9tIHJlc3RvcmUuIFRoZSBmb3JtYXRcbiAqIG9mIGVhY2ggaXRlbSBzaG91bGQgYmUgdGhlIHNhbWUgYXMgJy14JyBvcHRpb24gZm9ybWF0IGZvclxuICogJ3VuemlwJyB1dGlsaXR5LiBUaGlzIGNhbiBhbHNvIGJlIGEgY29tbWEtc2VwYXJhdGVkIHN0cmluZyxcbiAqIHdoaWNoIGlzIGdvaW5nIGJlIHRyYW5zZm9ybWVkIGludG8gYSBsaXN0IGF1dG9tYXRpY2FsbHksXG4gKiBmb3IgZXhhbXBsZTogJyouZGIqLGJsYWJsYS5zcWxpdGUnXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSWYgdGhlIHJlc3RvcmUgb3ByYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlcmUgaXMgbm8ga2V5Y2hhaW5zIGJhY2t1cCBhdmFpbGFibGUgZm9yIHJlc3RvcmUuXG4gKi9cbmV4dGVuc2lvbnMucmVzdG9yZUtleWNoYWlucyA9IGFzeW5jIGZ1bmN0aW9uIHJlc3RvcmVLZXljaGFpbnMgKGV4Y2x1ZGVQYXR0ZXJucyA9IFtdKSB7XG4gIGlmICghXy5pc1N0cmluZyh0aGlzLl9rZXljaGFpbnNCYWNrdXBQYXRoKSB8fCAhYXdhaXQgZnMuZXhpc3RzKHRoaXMuX2tleWNoYWluc0JhY2t1cFBhdGgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUaGUga2V5Y2hhaW5zIGJhY2t1cCBhcmNoaXZlIGRvZXMgbm90IGV4aXN0LiBgICtcbiAgICAgICAgICAgICAgICAgICAgYEFyZSB5b3Ugc3VyZSBpdCB3YXMgY3JlYXRlZCBiZWZvcmU/YCk7XG4gIH1cblxuICBpZiAoXy5pc1N0cmluZyhleGNsdWRlUGF0dGVybnMpKSB7XG4gICAgZXhjbHVkZVBhdHRlcm5zID0gZXhjbHVkZVBhdHRlcm5zLnNwbGl0KCcsJykubWFwKCh4KSA9PiB4LnRyaW0oKSk7XG4gIH1cbiAgY29uc3QgaXNTZXJ2ZXJSdW5uaW5nID0gYXdhaXQgdGhpcy5pc1J1bm5pbmcoKTtcbiAgbGV0IHBsaXN0UGF0aDtcbiAgaWYgKGlzU2VydmVyUnVubmluZykge1xuICAgIHBsaXN0UGF0aCA9IHBhdGgucmVzb2x2ZShhd2FpdCB0aGlzLmdldExhdW5jaERhZW1vbnNSb290KCksICdjb20uYXBwbGUuc2VjdXJpdHlkLnBsaXN0Jyk7XG4gICAgaWYgKCFhd2FpdCBmcy5leGlzdHMocGxpc3RQYXRoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY2xlYXIga2V5Y2hhaW5zIGJlY2F1c2UgJyR7cGxpc3RQYXRofScgZG9lcyBub3QgZXhpc3RgKTtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5zaW1jdGwuc3Bhd25Qcm9jZXNzKFsnbGF1bmNoY3RsJywgJ3VubG9hZCcsIHBsaXN0UGF0aF0pO1xuICB9XG4gIHRyeSB7XG4gICAgYXdhaXQgZnMucmltcmFmKHRoaXMua2V5Y2hhaW5QYXRoKTtcbiAgICBhd2FpdCBta2RpcnAodGhpcy5rZXljaGFpblBhdGgpO1xuICAgIGNvbnN0IHVuemlwQXJncyA9IFtcbiAgICAgICctbycsIHRoaXMuX2tleWNoYWluc0JhY2t1cFBhdGgsXG4gICAgICAuLi4oXy5mbGF0TWFwKGV4Y2x1ZGVQYXR0ZXJucy5tYXAoKHgpID0+IFsnLXgnLCB4XSkpKSxcbiAgICAgICctZCcsICcvJ1xuICAgIF07XG4gICAgbG9nLmRlYnVnKGBSZXN0b3Jpbmcga2V5Y2hhaW5zIHdpdGggJ3VuemlwICR7dW56aXBBcmdzLmpvaW4oJyAnKX0nIGNvbW1hbmRgKTtcbiAgICBhd2FpdCBleGVjKCd1bnppcCcsIHVuemlwQXJncyk7XG4gICAgYXdhaXQgZnMudW5saW5rKHRoaXMuX2tleWNoYWluc0JhY2t1cFBhdGgpO1xuICAgIHRoaXMuX2tleWNoYWluc0JhY2t1cFBhdGggPSBudWxsO1xuICB9IGZpbmFsbHkge1xuICAgIGlmIChpc1NlcnZlclJ1bm5pbmcgJiYgcGxpc3RQYXRoKSB7XG4gICAgICBhd2FpdCB0aGlzLnNpbWN0bC5zcGF3blByb2Nlc3MoWydsYXVuY2hjdGwnLCAnbG9hZCcsIHBsaXN0UGF0aF0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ2xlYXJzIEtleWNoYWlucyBmb3IgdGhlIHBhcnRpY3VsYXIgc2ltdWxhdG9yIGluIHJ1bnRpbWUgKHRoZXJlIGlzIG5vIG5lZWQgdG8gc3RvcCBpdCkuXG4gKlxuICogQHRocm93cyB7RXJyb3J9IElmIGtleWNoYWluIGNsZWFudXAgaGFzIGZhaWxlZC5cbiAqL1xuZXh0ZW5zaW9ucy5jbGVhcktleWNoYWlucyA9IGFzeW5jIGZ1bmN0aW9uIGNsZWFyS2V5Y2hhaW5zICgpIHtcbiAgY29uc3QgcGxpc3RQYXRoID0gcGF0aC5yZXNvbHZlKGF3YWl0IHRoaXMuZ2V0TGF1bmNoRGFlbW9uc1Jvb3QoKSwgJ2NvbS5hcHBsZS5zZWN1cml0eWQucGxpc3QnKTtcbiAgaWYgKCFhd2FpdCBmcy5leGlzdHMocGxpc3RQYXRoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNsZWFyIGtleWNoYWlucyBiZWNhdXNlICcke3BsaXN0UGF0aH0nIGRvZXMgbm90IGV4aXN0YCk7XG4gIH1cbiAgYXdhaXQgdGhpcy5zaW1jdGwuc3Bhd25Qcm9jZXNzKFsnbGF1bmNoY3RsJywgJ3VubG9hZCcsIHBsaXN0UGF0aF0pO1xuICB0cnkge1xuICAgIGlmIChhd2FpdCBmcy5leGlzdHModGhpcy5rZXljaGFpblBhdGgpKSB7XG4gICAgICBhd2FpdCBmcy5yaW1yYWYodGhpcy5rZXljaGFpblBhdGgpO1xuICAgICAgYXdhaXQgbWtkaXJwKHRoaXMua2V5Y2hhaW5QYXRoKTtcbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgYXdhaXQgdGhpcy5zaW1jdGwuc3Bhd25Qcm9jZXNzKFsnbGF1bmNoY3RsJywgJ2xvYWQnLCBwbGlzdFBhdGhdKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZXh0ZW5zaW9ucztcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBT3JCQSxVQUFVLENBQUNDLG9CQUFvQixHQUFHLGVBQWVBLG9CQUFvQixHQUFJO0VBQ3ZFLE1BQU1DLE9BQU8sR0FBRyxNQUFNLElBQUFDLHVCQUFnQixHQUFFO0VBQ3hDLE9BQU9DLGFBQUksQ0FBQ0MsT0FBTyxDQUNqQkgsT0FBTyxFQUNQLG9HQUFvRyxDQUNyRztBQUNILENBQUM7QUFVREYsVUFBVSxDQUFDTSxlQUFlLEdBQUcsZUFBZUEsZUFBZSxHQUFJO0VBQzdELElBQUksRUFBQyxNQUFNQyxXQUFFLENBQUNDLE1BQU0sQ0FBQyxJQUFJLENBQUNDLFlBQVksQ0FBQyxHQUFFO0lBQ3ZDLE9BQU8sS0FBSztFQUNkO0VBRUEsTUFBTUMsVUFBVSxHQUFHLE1BQU1DLGdCQUFPLENBQUNQLElBQUksQ0FBQztJQUNwQ1EsTUFBTSxFQUFHLG9CQUFtQkMsSUFBSSxDQUFDQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUdELElBQUksQ0FBQ0UsTUFBTSxFQUFFLElBQUksT0FBTyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQ0MsU0FBUyxDQUFDLENBQUMsQ0FBRSxFQUFDO0lBQ2pHQyxNQUFNLEVBQUU7RUFDVixDQUFDLENBQUM7RUFDRixNQUFNQyxPQUFPLEdBQUcsQ0FDZCxJQUFJLEVBQUVULFVBQVUsRUFDZixHQUFFLElBQUksQ0FBQ0QsWUFBYSxHQUFFTCxhQUFJLENBQUNnQixHQUFJLEVBQUMsQ0FDbEM7RUFDREMsZUFBRyxDQUFDQyxLQUFLLENBQUUsdUNBQXNDSCxPQUFPLENBQUNJLElBQUksQ0FBQyxHQUFHLENBQUUsV0FBVSxDQUFDO0VBQzlFLE1BQU0sSUFBQUMsa0JBQUksRUFBQyxLQUFLLEVBQUVMLE9BQU8sQ0FBQztFQUMxQixJQUFJTSxlQUFDLENBQUNDLFFBQVEsQ0FBQyxJQUFJLENBQUNDLG9CQUFvQixDQUFDLEtBQUksTUFBTXBCLFdBQUUsQ0FBQ0MsTUFBTSxDQUFDLElBQUksQ0FBQ21CLG9CQUFvQixDQUFDLEdBQUU7SUFDdkYsTUFBTXBCLFdBQUUsQ0FBQ3FCLE1BQU0sQ0FBQyxJQUFJLENBQUNELG9CQUFvQixDQUFDO0VBQzVDO0VBQ0EsSUFBSSxDQUFDQSxvQkFBb0IsR0FBR2pCLFVBQVU7RUFDdEMsT0FBTyxJQUFJO0FBQ2IsQ0FBQztBQWNEVixVQUFVLENBQUM2QixnQkFBZ0IsR0FBRyxlQUFlQSxnQkFBZ0IsQ0FBRUMsZUFBZSxHQUFHLEVBQUUsRUFBRTtFQUNuRixJQUFJLENBQUNMLGVBQUMsQ0FBQ0MsUUFBUSxDQUFDLElBQUksQ0FBQ0Msb0JBQW9CLENBQUMsSUFBSSxFQUFDLE1BQU1wQixXQUFFLENBQUNDLE1BQU0sQ0FBQyxJQUFJLENBQUNtQixvQkFBb0IsQ0FBQyxHQUFFO0lBQ3pGLE1BQU0sSUFBSUksS0FBSyxDQUFFLCtDQUE4QyxHQUM5QyxxQ0FBb0MsQ0FBQztFQUN4RDtFQUVBLElBQUlOLGVBQUMsQ0FBQ0MsUUFBUSxDQUFDSSxlQUFlLENBQUMsRUFBRTtJQUMvQkEsZUFBZSxHQUFHQSxlQUFlLENBQUNFLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsR0FBRyxDQUFFQyxDQUFDLElBQUtBLENBQUMsQ0FBQ0MsSUFBSSxFQUFFLENBQUM7RUFDbkU7RUFDQSxNQUFNQyxlQUFlLEdBQUcsTUFBTSxJQUFJLENBQUNDLFNBQVMsRUFBRTtFQUM5QyxJQUFJQyxTQUFTO0VBQ2IsSUFBSUYsZUFBZSxFQUFFO0lBQ25CRSxTQUFTLEdBQUdsQyxhQUFJLENBQUNDLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQ0osb0JBQW9CLEVBQUUsRUFBRSwyQkFBMkIsQ0FBQztJQUN4RixJQUFJLEVBQUMsTUFBTU0sV0FBRSxDQUFDQyxNQUFNLENBQUM4QixTQUFTLENBQUMsR0FBRTtNQUMvQixNQUFNLElBQUlQLEtBQUssQ0FBRSxtQ0FBa0NPLFNBQVUsa0JBQWlCLENBQUM7SUFDakY7SUFDQSxNQUFNLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxZQUFZLENBQUMsQ0FBQyxXQUFXLEVBQUUsUUFBUSxFQUFFRixTQUFTLENBQUMsQ0FBQztFQUNwRTtFQUNBLElBQUk7SUFDRixNQUFNL0IsV0FBRSxDQUFDa0MsTUFBTSxDQUFDLElBQUksQ0FBQ2hDLFlBQVksQ0FBQztJQUNsQyxNQUFNLElBQUFpQyxlQUFNLEVBQUMsSUFBSSxDQUFDakMsWUFBWSxDQUFDO0lBQy9CLE1BQU1rQyxTQUFTLEdBQUcsQ0FDaEIsSUFBSSxFQUFFLElBQUksQ0FBQ2hCLG9CQUFvQixFQUMvQixHQUFJRixlQUFDLENBQUNtQixPQUFPLENBQUNkLGVBQWUsQ0FBQ0csR0FBRyxDQUFFQyxDQUFDLElBQUssQ0FBQyxJQUFJLEVBQUVBLENBQUMsQ0FBQyxDQUFDLENBQUUsRUFDckQsSUFBSSxFQUFFLEdBQUcsQ0FDVjtJQUNEYixlQUFHLENBQUNDLEtBQUssQ0FBRSxtQ0FBa0NxQixTQUFTLENBQUNwQixJQUFJLENBQUMsR0FBRyxDQUFFLFdBQVUsQ0FBQztJQUM1RSxNQUFNLElBQUFDLGtCQUFJLEVBQUMsT0FBTyxFQUFFbUIsU0FBUyxDQUFDO0lBQzlCLE1BQU1wQyxXQUFFLENBQUNxQixNQUFNLENBQUMsSUFBSSxDQUFDRCxvQkFBb0IsQ0FBQztJQUMxQyxJQUFJLENBQUNBLG9CQUFvQixHQUFHLElBQUk7RUFDbEMsQ0FBQyxTQUFTO0lBQ1IsSUFBSVMsZUFBZSxJQUFJRSxTQUFTLEVBQUU7TUFDaEMsTUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsWUFBWSxDQUFDLENBQUMsV0FBVyxFQUFFLE1BQU0sRUFBRUYsU0FBUyxDQUFDLENBQUM7SUFDbEU7RUFDRjtFQUNBLE9BQU8sSUFBSTtBQUNiLENBQUM7QUFPRHRDLFVBQVUsQ0FBQzZDLGNBQWMsR0FBRyxlQUFlQSxjQUFjLEdBQUk7RUFDM0QsTUFBTVAsU0FBUyxHQUFHbEMsYUFBSSxDQUFDQyxPQUFPLENBQUMsTUFBTSxJQUFJLENBQUNKLG9CQUFvQixFQUFFLEVBQUUsMkJBQTJCLENBQUM7RUFDOUYsSUFBSSxFQUFDLE1BQU1NLFdBQUUsQ0FBQ0MsTUFBTSxDQUFDOEIsU0FBUyxDQUFDLEdBQUU7SUFDL0IsTUFBTSxJQUFJUCxLQUFLLENBQUUsbUNBQWtDTyxTQUFVLGtCQUFpQixDQUFDO0VBQ2pGO0VBQ0EsTUFBTSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsWUFBWSxDQUFDLENBQUMsV0FBVyxFQUFFLFFBQVEsRUFBRUYsU0FBUyxDQUFDLENBQUM7RUFDbEUsSUFBSTtJQUNGLElBQUksTUFBTS9CLFdBQUUsQ0FBQ0MsTUFBTSxDQUFDLElBQUksQ0FBQ0MsWUFBWSxDQUFDLEVBQUU7TUFDdEMsTUFBTUYsV0FBRSxDQUFDa0MsTUFBTSxDQUFDLElBQUksQ0FBQ2hDLFlBQVksQ0FBQztNQUNsQyxNQUFNLElBQUFpQyxlQUFNLEVBQUMsSUFBSSxDQUFDakMsWUFBWSxDQUFDO0lBQ2pDO0VBQ0YsQ0FBQyxTQUFTO0lBQ1IsTUFBTSxJQUFJLENBQUM4QixNQUFNLENBQUNDLFlBQVksQ0FBQyxDQUFDLFdBQVcsRUFBRSxNQUFNLEVBQUVGLFNBQVMsQ0FBQyxDQUFDO0VBQ2xFO0FBQ0YsQ0FBQztBQUFDLGVBRWF0QyxVQUFVO0FBQUEifQ==