"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
require("source-map-support/register");
var _logger = _interopRequireDefault(require("../logger"));
var _events = _interopRequireDefault(require("./events"));
var _utils = require("../utils");
var _lodash = _interopRequireDefault(require("lodash"));
async function onPageChange(err, appIdKey, pageDict) {
  if (_lodash.default.isEmpty(pageDict)) {
    return;
  }
  const pageArray = (0, _utils.pageArrayFromDict)(pageDict);
  await this.useAppDictLock(done => {
    try {
      if (this.appDict[appIdKey]) {
        if (this.appDict[appIdKey].pageArray) {
          if (this.appDict[appIdKey].pageArray.resolve) {
            this.appDict[appIdKey].pageArray.resolve();
          } else {
            if (_lodash.default.isEqual(this.appDict[appIdKey].pageArray, pageArray)) {
              _logger.default.debug(`Received page change notice for app '${appIdKey}' ` + `but the listing has not changed. Ignoring.`);
              return done();
            }
          }
        }
        this.appDict[appIdKey].pageArray = pageArray;
      }
    } finally {
      done();
    }
  });
  if (this._navigatingToPage) {
    return;
  }
  _logger.default.debug(`Page changed: ${(0, _utils.simpleStringify)(pageDict, true)}`);
  this.emit(_events.default.EVENT_PAGE_CHANGE, {
    appIdKey: appIdKey.replace('PID:', ''),
    pageArray
  });
}
async function onAppConnect(err, dict) {
  const appIdKey = dict.WIRApplicationIdentifierKey;
  _logger.default.debug(`Notified that new application '${appIdKey}' has connected`);
  await this.useAppDictLock(done => {
    try {
      this.updateAppsWithDict(dict);
    } finally {
      done();
    }
  });
}
function onAppDisconnect(err, dict) {
  const appIdKey = dict.WIRApplicationIdentifierKey;
  _logger.default.debug(`Application '${appIdKey}' disconnected. Removing from app dictionary.`);
  _logger.default.debug(`Current app is '${this.appIdKey}'`);
  delete this.appDict[appIdKey];
  if (this.appIdKey === appIdKey) {
    _logger.default.debug(`No longer have app id. Attempting to find new one.`);
    this.appIdKey = (0, _utils.getDebuggerAppKey)(this.bundleId, this.appDict);
  }
  if (!this.appDict) {
    _logger.default.debug('Main app disconnected. Disconnecting altogether.');
    this.connected = false;
    this.emit(_events.default.EVENT_DISCONNECT, true);
  }
}
async function onAppUpdate(err, dict) {
  await this.useAppDictLock(done => {
    try {
      this.updateAppsWithDict(dict);
    } finally {
      done();
    }
  });
}
function onConnectedDriverList(err, drivers) {
  this.connectedDrivers = drivers.WIRDriverDictionaryKey;
  _logger.default.debug(`Received connected driver list: ${JSON.stringify(this.connectedDrivers)}`);
}
function onCurrentState(err, state) {
  this.currentState = state.WIRAutomationAvailabilityKey;
  _logger.default.debug(`Received connected automation availability state: ${JSON.stringify(this.currentState)}`);
}
async function onConnectedApplicationList(err, apps) {
  _logger.default.debug(`Received connected applications list: ${_lodash.default.keys(apps).join(', ')}`);
  let newDict = {};
  for (const dict of _lodash.default.values(apps)) {
    const [id, entry] = (0, _utils.appInfoFromDict)(dict);
    if (this.skippedApps.includes(entry.name)) {
      continue;
    }
    newDict[id] = entry;
  }
  await this.useAppDictLock(done => {
    try {
      _lodash.default.defaults(this.appDict, newDict);
    } finally {
      done();
    }
  });
}
const messageHandlers = {
  onPageChange,
  onAppConnect,
  onAppDisconnect,
  onAppUpdate,
  onConnectedDriverList,
  onCurrentState,
  onConnectedApplicationList
};
var _default = messageHandlers;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9nZ2VyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZXZlbnRzIiwiX3V0aWxzIiwiX2xvZGFzaCIsIm9uUGFnZUNoYW5nZSIsImVyciIsImFwcElkS2V5IiwicGFnZURpY3QiLCJfIiwiaXNFbXB0eSIsInBhZ2VBcnJheSIsInBhZ2VBcnJheUZyb21EaWN0IiwidXNlQXBwRGljdExvY2siLCJkb25lIiwiYXBwRGljdCIsInJlc29sdmUiLCJpc0VxdWFsIiwibG9nIiwiZGVidWciLCJfbmF2aWdhdGluZ1RvUGFnZSIsInNpbXBsZVN0cmluZ2lmeSIsImVtaXQiLCJldmVudHMiLCJFVkVOVF9QQUdFX0NIQU5HRSIsInJlcGxhY2UiLCJvbkFwcENvbm5lY3QiLCJkaWN0IiwiV0lSQXBwbGljYXRpb25JZGVudGlmaWVyS2V5IiwidXBkYXRlQXBwc1dpdGhEaWN0Iiwib25BcHBEaXNjb25uZWN0IiwiZ2V0RGVidWdnZXJBcHBLZXkiLCJidW5kbGVJZCIsImNvbm5lY3RlZCIsIkVWRU5UX0RJU0NPTk5FQ1QiLCJvbkFwcFVwZGF0ZSIsIm9uQ29ubmVjdGVkRHJpdmVyTGlzdCIsImRyaXZlcnMiLCJjb25uZWN0ZWREcml2ZXJzIiwiV0lSRHJpdmVyRGljdGlvbmFyeUtleSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvbkN1cnJlbnRTdGF0ZSIsInN0YXRlIiwiY3VycmVudFN0YXRlIiwiV0lSQXV0b21hdGlvbkF2YWlsYWJpbGl0eUtleSIsIm9uQ29ubmVjdGVkQXBwbGljYXRpb25MaXN0IiwiYXBwcyIsImtleXMiLCJqb2luIiwibmV3RGljdCIsInZhbHVlcyIsImlkIiwiZW50cnkiLCJhcHBJbmZvRnJvbURpY3QiLCJza2lwcGVkQXBwcyIsImluY2x1ZGVzIiwibmFtZSIsImRlZmF1bHRzIiwibWVzc2FnZUhhbmRsZXJzIiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9taXhpbnMvbWVzc2FnZS1oYW5kbGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nIGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCB7IHBhZ2VBcnJheUZyb21EaWN0LCBnZXREZWJ1Z2dlckFwcEtleSwgc2ltcGxlU3RyaW5naWZ5LCBhcHBJbmZvRnJvbURpY3QgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5cbi8qXG4gKiBHZW5lcmljIGNhbGxiYWNrcyB1c2VkIHRocm91Z2hvdXQgdGhlIGxpZmVjeWNsZSBvZiB0aGUgUmVtb3RlIERlYnVnZ2VyLlxuICogVGhlc2Ugd2lsbCBiZSBhZGRlZCB0byB0aGUgcHJvdG90eXBlLlxuICovXG5cbmFzeW5jIGZ1bmN0aW9uIG9uUGFnZUNoYW5nZSAoZXJyLCBhcHBJZEtleSwgcGFnZURpY3QpIHtcbiAgaWYgKF8uaXNFbXB0eShwYWdlRGljdCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBwYWdlQXJyYXkgPSBwYWdlQXJyYXlGcm9tRGljdChwYWdlRGljdCk7XG5cbiAgYXdhaXQgdGhpcy51c2VBcHBEaWN0TG9jaygoZG9uZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBzYXZlIHRoZSBwYWdlIGRpY3QgZm9yIHRoaXMgYXBwXG4gICAgICBpZiAodGhpcy5hcHBEaWN0W2FwcElkS2V5XSkge1xuICAgICAgICBpZiAodGhpcy5hcHBEaWN0W2FwcElkS2V5XS5wYWdlQXJyYXkpIHtcbiAgICAgICAgICBpZiAodGhpcy5hcHBEaWN0W2FwcElkS2V5XS5wYWdlQXJyYXkucmVzb2x2ZSkge1xuICAgICAgICAgICAgLy8gcGFnZURpY3QgaXMgYSBwZW5kaW5nIHByb21pc2UsIHNvIHJlc29sdmVcbiAgICAgICAgICAgIHRoaXMuYXBwRGljdFthcHBJZEtleV0ucGFnZUFycmF5LnJlc29sdmUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gd2UgaGF2ZSBhIHByZS1leGlzdGluZyBwYWdlRGljdFxuICAgICAgICAgICAgaWYgKF8uaXNFcXVhbCh0aGlzLmFwcERpY3RbYXBwSWRLZXldLnBhZ2VBcnJheSwgcGFnZUFycmF5KSkge1xuICAgICAgICAgICAgICBsb2cuZGVidWcoYFJlY2VpdmVkIHBhZ2UgY2hhbmdlIG5vdGljZSBmb3IgYXBwICcke2FwcElkS2V5fScgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgYnV0IHRoZSBsaXN0aW5nIGhhcyBub3QgY2hhbmdlZC4gSWdub3JpbmcuYCk7XG4gICAgICAgICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIHBhZ2UgZGljdGlvbmFyeVxuICAgICAgICB0aGlzLmFwcERpY3RbYXBwSWRLZXldLnBhZ2VBcnJheSA9IHBhZ2VBcnJheTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgZG9uZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHRoaXMuX25hdmlnYXRpbmdUb1BhZ2UpIHtcbiAgICAvLyBpbiB0aGUgbWlkZGxlIG9mIG5hdmlnYXRpbmcsIHNvIHJlcG9ydGluZyBhIHBhZ2UgY2hhbmdlIHdpbGwgY2F1c2UgcHJvYmxlbXNcbiAgICByZXR1cm47XG4gIH1cblxuICBsb2cuZGVidWcoYFBhZ2UgY2hhbmdlZDogJHtzaW1wbGVTdHJpbmdpZnkocGFnZURpY3QsIHRydWUpfWApO1xuXG4gIHRoaXMuZW1pdChldmVudHMuRVZFTlRfUEFHRV9DSEFOR0UsIHtcbiAgICBhcHBJZEtleTogYXBwSWRLZXkucmVwbGFjZSgnUElEOicsICcnKSxcbiAgICBwYWdlQXJyYXksXG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBvbkFwcENvbm5lY3QgKGVyciwgZGljdCkge1xuICBjb25zdCBhcHBJZEtleSA9IGRpY3QuV0lSQXBwbGljYXRpb25JZGVudGlmaWVyS2V5O1xuICBsb2cuZGVidWcoYE5vdGlmaWVkIHRoYXQgbmV3IGFwcGxpY2F0aW9uICcke2FwcElkS2V5fScgaGFzIGNvbm5lY3RlZGApO1xuICBhd2FpdCB0aGlzLnVzZUFwcERpY3RMb2NrKChkb25lKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMudXBkYXRlQXBwc1dpdGhEaWN0KGRpY3QpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gb25BcHBEaXNjb25uZWN0IChlcnIsIGRpY3QpIHtcbiAgY29uc3QgYXBwSWRLZXkgPSBkaWN0LldJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleTtcbiAgbG9nLmRlYnVnKGBBcHBsaWNhdGlvbiAnJHthcHBJZEtleX0nIGRpc2Nvbm5lY3RlZC4gUmVtb3ZpbmcgZnJvbSBhcHAgZGljdGlvbmFyeS5gKTtcbiAgbG9nLmRlYnVnKGBDdXJyZW50IGFwcCBpcyAnJHt0aGlzLmFwcElkS2V5fSdgKTtcblxuICAvLyBnZXQgcmlkIG9mIHRoZSBlbnRyeSBpbiBvdXIgYXBwIGRpY3Rpb25hcnksXG4gIC8vIHNpbmNlIGl0IGlzIG5vIGxvbmdlciBhdmFpbGFibGVcbiAgZGVsZXRlIHRoaXMuYXBwRGljdFthcHBJZEtleV07XG5cbiAgLy8gaWYgdGhlIGRpc2Nvbm5lY3RlZCBhcHAgaXMgdGhlIG9uZSB3ZSBhcmUgY29ubmVjdGVkIHRvLCB0cnkgdG8gZmluZCBhbm90aGVyXG4gIGlmICh0aGlzLmFwcElkS2V5ID09PSBhcHBJZEtleSkge1xuICAgIGxvZy5kZWJ1ZyhgTm8gbG9uZ2VyIGhhdmUgYXBwIGlkLiBBdHRlbXB0aW5nIHRvIGZpbmQgbmV3IG9uZS5gKTtcbiAgICB0aGlzLmFwcElkS2V5ID0gZ2V0RGVidWdnZXJBcHBLZXkodGhpcy5idW5kbGVJZCwgdGhpcy5hcHBEaWN0KTtcbiAgfVxuXG4gIGlmICghdGhpcy5hcHBEaWN0KSB7XG4gICAgLy8gdGhpcyBtZWFucyB3ZSBubyBsb25nZXIgaGF2ZSBhbnkgYXBwcy4gd2hhdCB0aGUgd2hhdD9cbiAgICBsb2cuZGVidWcoJ01haW4gYXBwIGRpc2Nvbm5lY3RlZC4gRGlzY29ubmVjdGluZyBhbHRvZ2V0aGVyLicpO1xuICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0KGV2ZW50cy5FVkVOVF9ESVNDT05ORUNULCB0cnVlKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBvbkFwcFVwZGF0ZSAoZXJyLCBkaWN0KSB7XG4gIGF3YWl0IHRoaXMudXNlQXBwRGljdExvY2soKGRvbmUpID0+IHtcbiAgICB0cnkge1xuICAgICAgdGhpcy51cGRhdGVBcHBzV2l0aERpY3QoZGljdCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBvbkNvbm5lY3RlZERyaXZlckxpc3QgKGVyciwgZHJpdmVycykge1xuICB0aGlzLmNvbm5lY3RlZERyaXZlcnMgPSBkcml2ZXJzLldJUkRyaXZlckRpY3Rpb25hcnlLZXk7XG4gIGxvZy5kZWJ1ZyhgUmVjZWl2ZWQgY29ubmVjdGVkIGRyaXZlciBsaXN0OiAke0pTT04uc3RyaW5naWZ5KHRoaXMuY29ubmVjdGVkRHJpdmVycyl9YCk7XG59XG5cbmZ1bmN0aW9uIG9uQ3VycmVudFN0YXRlIChlcnIsIHN0YXRlKSB7XG4gIHRoaXMuY3VycmVudFN0YXRlID0gc3RhdGUuV0lSQXV0b21hdGlvbkF2YWlsYWJpbGl0eUtleTtcbiAgLy8gVGhpcyBzdGF0ZSBjaGFuZ2VzIHdoZW4gJ1JlbW90ZSBBdXRvbWF0aW9uJyBpbiAnU2V0dGluZ3MgYXBwJyA+ICdTYWZhcmknID4gJ0FkdmFuY2VkJyA+ICdSZW1vdGUgQXV0b21hdGlvbicgY2hhbmdlc1xuICAvLyBXSVJBdXRvbWF0aW9uQXZhaWxhYmlsaXR5QXZhaWxhYmxlIG9yIFdJUkF1dG9tYXRpb25BdmFpbGFiaWxpdHlOb3RBdmFpbGFibGVcbiAgbG9nLmRlYnVnKGBSZWNlaXZlZCBjb25uZWN0ZWQgYXV0b21hdGlvbiBhdmFpbGFiaWxpdHkgc3RhdGU6ICR7SlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50U3RhdGUpfWApO1xufVxuXG5hc3luYyBmdW5jdGlvbiBvbkNvbm5lY3RlZEFwcGxpY2F0aW9uTGlzdCAoZXJyLCBhcHBzKSB7XG4gIGxvZy5kZWJ1ZyhgUmVjZWl2ZWQgY29ubmVjdGVkIGFwcGxpY2F0aW9ucyBsaXN0OiAke18ua2V5cyhhcHBzKS5qb2luKCcsICcpfWApO1xuXG4gIC8vIHRyYW5zbGF0ZSB0aGUgcmVjZWl2ZWQgaW5mb3JtYXRpb24gaW50byBhbiBlYXNpZXItdG8tbWFuYWdlXG4gIC8vIGhhc2ggd2l0aCBhcHAgaWQgYXMga2V5LCBhbmQgYXBwIGluZm8gYXMgdmFsdWVcbiAgbGV0IG5ld0RpY3QgPSB7fTtcbiAgZm9yIChjb25zdCBkaWN0IG9mIF8udmFsdWVzKGFwcHMpKSB7XG4gICAgY29uc3QgW2lkLCBlbnRyeV0gPSBhcHBJbmZvRnJvbURpY3QoZGljdCk7XG4gICAgaWYgKHRoaXMuc2tpcHBlZEFwcHMuaW5jbHVkZXMoZW50cnkubmFtZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBuZXdEaWN0W2lkXSA9IGVudHJ5O1xuICB9XG4gIC8vIHVwZGF0ZSB0aGUgb2JqZWN0J3MgbGlzdCBvZiBhcHBzXG4gIGF3YWl0IHRoaXMudXNlQXBwRGljdExvY2soKGRvbmUpID0+IHtcbiAgICB0cnkge1xuICAgICAgXy5kZWZhdWx0cyh0aGlzLmFwcERpY3QsIG5ld0RpY3QpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBkb25lKCk7XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3QgbWVzc2FnZUhhbmRsZXJzID0ge1xuICBvblBhZ2VDaGFuZ2UsXG4gIG9uQXBwQ29ubmVjdCxcbiAgb25BcHBEaXNjb25uZWN0LFxuICBvbkFwcFVwZGF0ZSxcbiAgb25Db25uZWN0ZWREcml2ZXJMaXN0LFxuICBvbkN1cnJlbnRTdGF0ZSxcbiAgb25Db25uZWN0ZWRB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