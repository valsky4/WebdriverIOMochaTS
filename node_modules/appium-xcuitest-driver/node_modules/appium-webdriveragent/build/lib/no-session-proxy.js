"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.NoSessionProxy = void 0;
require("source-map-support/register");
var _baseDriver = require("@appium/base-driver");
class NoSessionProxy extends _baseDriver.JWProxy {
  constructor(opts = {}) {
    super(opts);
  }
  getUrlForProxy(url) {
    if (url === '') {
      url = '/';
    }
    const proxyBase = `${this.scheme}://${this.server}:${this.port}${this.base}`;
    let remainingUrl = '';
    if (new RegExp('^/').test(url)) {
      remainingUrl = url;
    } else {
      throw new Error(`Did not know what to do with url '${url}'`);
    }
    remainingUrl = remainingUrl.replace(/\/$/, '');
    return proxyBase + remainingUrl;
  }
}
exports.NoSessionProxy = NoSessionProxy;
var _default = NoSessionProxy;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmFzZURyaXZlciIsInJlcXVpcmUiLCJOb1Nlc3Npb25Qcm94eSIsIkpXUHJveHkiLCJjb25zdHJ1Y3RvciIsIm9wdHMiLCJnZXRVcmxGb3JQcm94eSIsInVybCIsInByb3h5QmFzZSIsInNjaGVtZSIsInNlcnZlciIsInBvcnQiLCJiYXNlIiwicmVtYWluaW5nVXJsIiwiUmVnRXhwIiwidGVzdCIsIkVycm9yIiwicmVwbGFjZSIsImV4cG9ydHMiLCJfZGVmYXVsdCIsImRlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi9saWIvbm8tc2Vzc2lvbi1wcm94eS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKV1Byb3h5IH0gZnJvbSAnQGFwcGl1bS9iYXNlLWRyaXZlcic7XG5cblxuY2xhc3MgTm9TZXNzaW9uUHJveHkgZXh0ZW5kcyBKV1Byb3h5IHtcbiAgY29uc3RydWN0b3IgKG9wdHMgPSB7fSkge1xuICAgIHN1cGVyKG9wdHMpO1xuICB9XG5cbiAgZ2V0VXJsRm9yUHJveHkgKHVybCkge1xuICAgIGlmICh1cmwgPT09ICcnKSB7XG4gICAgICB1cmwgPSAnLyc7XG4gICAgfVxuICAgIGNvbnN0IHByb3h5QmFzZSA9IGAke3RoaXMuc2NoZW1lfTovLyR7dGhpcy5zZXJ2ZXJ9OiR7dGhpcy5wb3J0fSR7dGhpcy5iYXNlfWA7XG4gICAgbGV0IHJlbWFpbmluZ1VybCA9ICcnO1xuICAgIGlmICgobmV3IFJlZ0V4cCgnXi8nKSkudGVzdCh1cmwpKSB7XG4gICAgICByZW1haW5pbmdVcmwgPSB1cmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRGlkIG5vdCBrbm93IHdoYXQgdG8gZG8gd2l0aCB1cmwgJyR7dXJsfSdgKTtcbiAgICB9XG4gICAgcmVtYWluaW5nVXJsID0gcmVtYWluaW5nVXJsLnJlcGxhY2UoL1xcLyQvLCAnJyk7IC8vIGNhbid0IGhhdmUgdHJhaWxpbmcgc2xhc2hlc1xuICAgIHJldHVybiBwcm94eUJhc2UgKyByZW1haW5pbmdVcmw7XG4gIH1cbn1cblxuZXhwb3J0IHsgTm9TZXNzaW9uUHJveHkgfTtcbmV4cG9ydCBkZWZhdWx0IE5vU2Vzc2lvblByb3h5O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsV0FBQSxHQUFBQyxPQUFBO0FBR0EsTUFBTUMsY0FBYyxTQUFTQyxtQkFBTyxDQUFDO0VBQ25DQyxXQUFXQSxDQUFFQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUU7SUFDdEIsS0FBSyxDQUFDQSxJQUFJLENBQUM7RUFDYjtFQUVBQyxjQUFjQSxDQUFFQyxHQUFHLEVBQUU7SUFDbkIsSUFBSUEsR0FBRyxLQUFLLEVBQUUsRUFBRTtNQUNkQSxHQUFHLEdBQUcsR0FBRztJQUNYO0lBQ0EsTUFBTUMsU0FBUyxHQUFJLEdBQUUsSUFBSSxDQUFDQyxNQUFPLE1BQUssSUFBSSxDQUFDQyxNQUFPLElBQUcsSUFBSSxDQUFDQyxJQUFLLEdBQUUsSUFBSSxDQUFDQyxJQUFLLEVBQUM7SUFDNUUsSUFBSUMsWUFBWSxHQUFHLEVBQUU7SUFDckIsSUFBSyxJQUFJQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUVDLElBQUksQ0FBQ1IsR0FBRyxDQUFDLEVBQUU7TUFDaENNLFlBQVksR0FBR04sR0FBRztJQUNwQixDQUFDLE1BQU07TUFDTCxNQUFNLElBQUlTLEtBQUssQ0FBRSxxQ0FBb0NULEdBQUksR0FBRSxDQUFDO0lBQzlEO0lBQ0FNLFlBQVksR0FBR0EsWUFBWSxDQUFDSSxPQUFPLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQztJQUM5QyxPQUFPVCxTQUFTLEdBQUdLLFlBQVk7RUFDakM7QUFDRjtBQUFDSyxPQUFBLENBQUFoQixjQUFBLEdBQUFBLGNBQUE7QUFBQSxJQUFBaUIsUUFBQSxHQUdjakIsY0FBYztBQUFBZ0IsT0FBQSxDQUFBRSxPQUFBLEdBQUFELFFBQUEifQ==