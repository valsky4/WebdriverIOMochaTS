{"version":3,"file":"no-session-proxy.js","names":["_baseDriver","require","NoSessionProxy","JWProxy","constructor","opts","getUrlForProxy","url","proxyBase","scheme","server","port","base","remainingUrl","RegExp","test","Error","replace","exports","_default","default"],"sources":["../../lib/no-session-proxy.js"],"sourcesContent":["import { JWProxy } from '@appium/base-driver';\n\n\nclass NoSessionProxy extends JWProxy {\n  constructor (opts = {}) {\n    super(opts);\n  }\n\n  getUrlForProxy (url) {\n    if (url === '') {\n      url = '/';\n    }\n    const proxyBase = `${this.scheme}://${this.server}:${this.port}${this.base}`;\n    let remainingUrl = '';\n    if ((new RegExp('^/')).test(url)) {\n      remainingUrl = url;\n    } else {\n      throw new Error(`Did not know what to do with url '${url}'`);\n    }\n    remainingUrl = remainingUrl.replace(/\\/$/, ''); // can't have trailing slashes\n    return proxyBase + remainingUrl;\n  }\n}\n\nexport { NoSessionProxy };\nexport default NoSessionProxy;\n"],"mappings":";;;;;;;AAAA,IAAAA,WAAA,GAAAC,OAAA;AAGA,MAAMC,cAAc,SAASC,mBAAO,CAAC;EACnCC,WAAWA,CAAEC,IAAI,GAAG,CAAC,CAAC,EAAE;IACtB,KAAK,CAACA,IAAI,CAAC;EACb;EAEAC,cAAcA,CAAEC,GAAG,EAAE;IACnB,IAAIA,GAAG,KAAK,EAAE,EAAE;MACdA,GAAG,GAAG,GAAG;IACX;IACA,MAAMC,SAAS,GAAI,GAAE,IAAI,CAACC,MAAO,MAAK,IAAI,CAACC,MAAO,IAAG,IAAI,CAACC,IAAK,GAAE,IAAI,CAACC,IAAK,EAAC;IAC5E,IAAIC,YAAY,GAAG,EAAE;IACrB,IAAK,IAAIC,MAAM,CAAC,IAAI,CAAC,CAAEC,IAAI,CAACR,GAAG,CAAC,EAAE;MAChCM,YAAY,GAAGN,GAAG;IACpB,CAAC,MAAM;MACL,MAAM,IAAIS,KAAK,CAAE,qCAAoCT,GAAI,GAAE,CAAC;IAC9D;IACAM,YAAY,GAAGA,YAAY,CAACI,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAC9C,OAAOT,SAAS,GAAGK,YAAY;EACjC;AACF;AAACK,OAAA,CAAAhB,cAAA,GAAAA,cAAA;AAAA,IAAAiB,QAAA,GAGcjB,cAAc;AAAAgB,OAAA,CAAAE,OAAA,GAAAD,QAAA"}