"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getXcrunBinary = exports.SIM_RUNTIME_NAME = exports.DEFAULT_EXEC_TIMEOUT = void 0;
exports.normalizeVersion = normalizeVersion;
require("source-map-support/register");
var _semver = _interopRequireDefault(require("semver"));
const DEFAULT_EXEC_TIMEOUT = 10 * 60 * 1000;
exports.DEFAULT_EXEC_TIMEOUT = DEFAULT_EXEC_TIMEOUT;
const SIM_RUNTIME_NAME = 'com.apple.CoreSimulator.SimRuntime.';
exports.SIM_RUNTIME_NAME = SIM_RUNTIME_NAME;
function normalizeVersion(version) {
  const semverVersion = _semver.default.coerce(version);
  if (!semverVersion) {
    throw new Error(`Unable to parse version '${version}'`);
  }
  return `${semverVersion.major}.${semverVersion.minor}`;
}
const getXcrunBinary = () => process.env.XCRUN_BINARY || 'xcrun';
exports.getXcrunBinary = getXcrunBinary;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfc2VtdmVyIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJERUZBVUxUX0VYRUNfVElNRU9VVCIsImV4cG9ydHMiLCJTSU1fUlVOVElNRV9OQU1FIiwibm9ybWFsaXplVmVyc2lvbiIsInZlcnNpb24iLCJzZW12ZXJWZXJzaW9uIiwic2VtdmVyIiwiY29lcmNlIiwiRXJyb3IiLCJtYWpvciIsIm1pbm9yIiwiZ2V0WGNydW5CaW5hcnkiLCJwcm9jZXNzIiwiZW52IiwiWENSVU5fQklOQVJZIl0sInNvdXJjZXMiOlsiLi4vLi4vbGliL2hlbHBlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHNlbXZlciBmcm9tICdzZW12ZXInO1xuXG5jb25zdCBERUZBVUxUX0VYRUNfVElNRU9VVCA9IDEwICogNjAgKiAxMDAwOyAvLyBtc1xuY29uc3QgU0lNX1JVTlRJTUVfTkFNRSA9ICdjb20uYXBwbGUuQ29yZVNpbXVsYXRvci5TaW1SdW50aW1lLic7XG5cbi8qKlxuICogXCJOb3JtYWxpemVcIiB0aGUgdmVyc2lvbiwgc2luY2UgaU9TIHVzZXMgJ21ham9yLm1pbm9yJyBidXQgdGhlIHJ1bnRpbWVzIGNhblxuICogYmUgJ21ham9yLm1pbm9yLnBhdGNoJ1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB2ZXJzaW9uIC0gdGhlIHN0cmluZyB2ZXJzaW9uXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB2ZXJzaW9uIGluICdtYWpvci5taW5vcicgZm9ybVxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSB2ZXJzaW9uIG5vdCBwYXJzZWFibGUgYnkgdGhlIGBzZW12ZXJgIHBhY2thZ2VcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplVmVyc2lvbiAodmVyc2lvbikge1xuICBjb25zdCBzZW12ZXJWZXJzaW9uID0gc2VtdmVyLmNvZXJjZSh2ZXJzaW9uKTtcbiAgaWYgKCFzZW12ZXJWZXJzaW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcGFyc2UgdmVyc2lvbiAnJHt2ZXJzaW9ufSdgKTtcbiAgfVxuICByZXR1cm4gYCR7c2VtdmVyVmVyc2lvbi5tYWpvcn0uJHtzZW12ZXJWZXJzaW9uLm1pbm9yfWA7XG59XG5cbmV4cG9ydCB7XG4gIERFRkFVTFRfRVhFQ19USU1FT1VULCBTSU1fUlVOVElNRV9OQU1FLFxuICBub3JtYWxpemVWZXJzaW9uLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldFhjcnVuQmluYXJ5ID0gKCkgPT4gcHJvY2Vzcy5lbnYuWENSVU5fQklOQVJZIHx8ICd4Y3J1bic7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLE1BQU1DLG9CQUFvQixHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSTtBQUFDQyxPQUFBLENBQUFELG9CQUFBLEdBQUFBLG9CQUFBO0FBQzVDLE1BQU1FLGdCQUFnQixHQUFHLHFDQUFxQztBQUFDRCxPQUFBLENBQUFDLGdCQUFBLEdBQUFBLGdCQUFBO0FBVS9ELFNBQVNDLGdCQUFnQkEsQ0FBRUMsT0FBTyxFQUFFO0VBQ2xDLE1BQU1DLGFBQWEsR0FBR0MsZUFBTSxDQUFDQyxNQUFNLENBQUNILE9BQU8sQ0FBQztFQUM1QyxJQUFJLENBQUNDLGFBQWEsRUFBRTtJQUNsQixNQUFNLElBQUlHLEtBQUssQ0FBRSw0QkFBMkJKLE9BQVEsR0FBRSxDQUFDO0VBQ3pEO0VBQ0EsT0FBUSxHQUFFQyxhQUFhLENBQUNJLEtBQU0sSUFBR0osYUFBYSxDQUFDSyxLQUFNLEVBQUM7QUFDeEQ7QUFPTyxNQUFNQyxjQUFjLEdBQUdBLENBQUEsS0FBTUMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLFlBQVksSUFBSSxPQUFPO0FBQUNiLE9BQUEsQ0FBQVUsY0FBQSxHQUFBQSxjQUFBIn0=