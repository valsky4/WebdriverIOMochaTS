"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
require("source-map-support/register");
var _asyncbox = require("asyncbox");
const commands = {};
commands.eraseDevice = async function eraseDevice(timeout = 1000) {
  const retries = parseInt(timeout / 200, 10);
  await (0, _asyncbox.retryInterval)(retries, 200, async () => await this.exec('erase', {
    args: [this.requireUdid('erase')]
  }));
};
var _default = commands;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYXN5bmNib3giLCJyZXF1aXJlIiwiY29tbWFuZHMiLCJlcmFzZURldmljZSIsInRpbWVvdXQiLCJyZXRyaWVzIiwicGFyc2VJbnQiLCJyZXRyeUludGVydmFsIiwiZXhlYyIsImFyZ3MiLCJyZXF1aXJlVWRpZCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvc3ViY29tbWFuZHMvZXJhc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmV0cnlJbnRlcnZhbCB9IGZyb20gJ2FzeW5jYm94JztcblxuY29uc3QgY29tbWFuZHMgPSB7fTtcblxuLyoqXG4gKiBSZXNldCB0aGUgY29udGVudCBhbmQgc2V0dGluZ3Mgb2YgdGhlIHBhcnRpY3VsYXIgU2ltdWxhdG9yLlxuICogSXQgaXMgcmVxdWlyZWQgdGhhdCBTaW11bGF0b3IgaXMgaW4gX3NodXRkb3duXyBzdGF0ZS5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdGltZW91dCBbMTAwMDBdIC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5pdCBkZXZpY2UgcmVzZXQgaXMgY29tcGxldGVkLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBjb3JyZXNwb25kaW5nIHNpbWN0bCBzdWJjb21tYW5kIGNvbW1hbmRcbiAqICAgICAgICAgICAgICAgICByZXR1cm5zIG5vbi16ZXJvIHJldHVybiBjb2RlLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBgdWRpZGAgaW5zdGFuY2UgcHJvcGVydHkgaXMgdW5zZXRcbiAqL1xuY29tbWFuZHMuZXJhc2VEZXZpY2UgPSBhc3luYyBmdW5jdGlvbiBlcmFzZURldmljZSAodGltZW91dCA9IDEwMDApIHtcbiAgLy8gcmV0cnkgZXJhc2Ugd2l0aCBhIHNsZWVwIGluIGJldHdlZW4gYmVjYXVzZSBpdCdzIGZsYWtleVxuICBjb25zdCByZXRyaWVzID0gcGFyc2VJbnQodGltZW91dCAvIDIwMCwgMTApO1xuICBhd2FpdCByZXRyeUludGVydmFsKHJldHJpZXMsIDIwMCxcbiAgICBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLmV4ZWMoJ2VyYXNlJywge1xuICAgICAgYXJnczogW3RoaXMucmVxdWlyZVVkaWQoJ2VyYXNlJyldXG4gICAgfSlcbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbW1hbmRzO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxPQUFBO0FBRUEsTUFBTUMsUUFBUSxHQUFHLENBQUMsQ0FBQztBQVluQkEsUUFBUSxDQUFDQyxXQUFXLEdBQUcsZUFBZUEsV0FBV0EsQ0FBRUMsT0FBTyxHQUFHLElBQUksRUFBRTtFQUVqRSxNQUFNQyxPQUFPLEdBQUdDLFFBQVEsQ0FBQ0YsT0FBTyxHQUFHLEdBQUcsRUFBRSxFQUFFLENBQUM7RUFDM0MsTUFBTSxJQUFBRyx1QkFBYSxFQUFDRixPQUFPLEVBQUUsR0FBRyxFQUM5QixZQUFZLE1BQU0sSUFBSSxDQUFDRyxJQUFJLENBQUMsT0FBTyxFQUFFO0lBQ25DQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUNDLFdBQVcsQ0FBQyxPQUFPLENBQUM7RUFDbEMsQ0FBQyxDQUFDLENBQ0g7QUFDSCxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVhVCxRQUFRO0FBQUFVLE9BQUEsQ0FBQUMsT0FBQSxHQUFBRixRQUFBIn0=