"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
require("source-map-support/register");
var _lodash = _interopRequireDefault(require("lodash"));
const commands = {};
commands.spawnProcess = async function spawnProcess(args, env = {}) {
  if (_lodash.default.isEmpty(args)) {
    throw new Error('Spawn arguments are required');
  }
  return await this.exec('spawn', {
    args: [this.requireUdid('spawn'), ...(_lodash.default.isArray(args) ? args : [args])],
    env
  });
};
commands.spawnSubProcess = async function spawnSubProcess(args, env = {}) {
  if (_lodash.default.isEmpty(args)) {
    throw new Error('Spawn arguments are required');
  }
  return await this.exec('spawn', {
    args: [this.requireUdid('spawn'), ...(_lodash.default.isArray(args) ? args : [args])],
    env,
    asynchronous: true
  });
};
var _default = commands;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbG9kYXNoIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJjb21tYW5kcyIsInNwYXduUHJvY2VzcyIsImFyZ3MiLCJlbnYiLCJfIiwiaXNFbXB0eSIsIkVycm9yIiwiZXhlYyIsInJlcXVpcmVVZGlkIiwiaXNBcnJheSIsInNwYXduU3ViUHJvY2VzcyIsImFzeW5jaHJvbm91cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsImRlZmF1bHQiXSwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvc3ViY29tbWFuZHMvc3Bhd24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuXG5jb25zdCBjb21tYW5kcyA9IHt9O1xuXG4vKipcbiAqIFNwYXduIHRoZSBwYXJ0aWN1bGFyIHByb2Nlc3Mgb24gU2ltdWxhdG9yLlxuICogSXQgaXMgcmVxdWlyZWQgdGhhdCBTaW11bGF0b3IgaXMgaW4gX2Jvb3RlZF8gc3RhdGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gYXJncyAtIFNwYXduIGFyZ3VtZW50c1xuICogQHBhcmFtIHtvYmplY3R9IGVudiBbe31dIC0gQWRkaXRpb25hbCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgbWFwcGluZy5cbiAqIEByZXR1cm4ge0V4ZWNSZXN1bHR9IENvbW1hbmQgZXhlY3V0aW9uIHJlc3VsdC5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgY29ycmVzcG9uZGluZyBzaW1jdGwgc3ViY29tbWFuZCBjb21tYW5kXG4gKiAgICAgICAgICAgICAgICAgcmV0dXJucyBub24temVybyByZXR1cm4gY29kZS5cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgYHVkaWRgIGluc3RhbmNlIHByb3BlcnR5IGlzIHVuc2V0XG4gKi9cbmNvbW1hbmRzLnNwYXduUHJvY2VzcyA9IGFzeW5jIGZ1bmN0aW9uIHNwYXduUHJvY2VzcyAoYXJncywgZW52ID0ge30pIHtcbiAgaWYgKF8uaXNFbXB0eShhcmdzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU3Bhd24gYXJndW1lbnRzIGFyZSByZXF1aXJlZCcpO1xuICB9XG5cbiAgcmV0dXJuIGF3YWl0IHRoaXMuZXhlYygnc3Bhd24nLCB7XG4gICAgYXJnczogW3RoaXMucmVxdWlyZVVkaWQoJ3NwYXduJyksIC4uLihfLmlzQXJyYXkoYXJncykgPyBhcmdzIDogW2FyZ3NdKV0sXG4gICAgZW52LFxuICB9KTtcbn07XG5cbi8qKlxuICogUHJlcGFyZSBTdWJQcm9jZXNzIGluc3RhbmNlIGZvciBhIG5ldyBwcm9jZXNzLCB3aGljaCBpcyBnb2luZyB0byBiZSBzcGF3bmVkXG4gKiBvbiBTaW11bGF0b3IuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gYXJncyAtIFNwYXduIGFyZ3VtZW50c1xuICogQHBhcmFtIHtvYmplY3R9IGVudiBbe31dIC0gQWRkaXRpb25hbCBlbnZpcm9ubWVudCB2YXJpYWJsZXMgbWFwcGluZy5cbiAqIEByZXR1cm4ge1N1YlByb2Nlc3N9IFRoZSBpbnN0YW5jZSBvZiB0aGUgcHJvY2VzcyB0byBiZSBzcGF3bmVkLlxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBgdWRpZGAgaW5zdGFuY2UgcHJvcGVydHkgaXMgdW5zZXRcbiAqL1xuY29tbWFuZHMuc3Bhd25TdWJQcm9jZXNzID0gYXN5bmMgZnVuY3Rpb24gc3Bhd25TdWJQcm9jZXNzIChhcmdzLCBlbnYgPSB7fSkge1xuICBpZiAoXy5pc0VtcHR5KGFyZ3MpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTcGF3biBhcmd1bWVudHMgYXJlIHJlcXVpcmVkJyk7XG4gIH1cblxuICByZXR1cm4gYXdhaXQgdGhpcy5leGVjKCdzcGF3bicsIHtcbiAgICBhcmdzOiBbdGhpcy5yZXF1aXJlVWRpZCgnc3Bhd24nKSwgLi4uKF8uaXNBcnJheShhcmdzKSA/IGFyZ3MgOiBbYXJnc10pXSxcbiAgICBlbnYsXG4gICAgYXN5bmNocm9ub3VzOiB0cnVlLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNvbW1hbmRzO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUdBLE1BQU1DLFFBQVEsR0FBRyxDQUFDLENBQUM7QUFhbkJBLFFBQVEsQ0FBQ0MsWUFBWSxHQUFHLGVBQWVBLFlBQVlBLENBQUVDLElBQUksRUFBRUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFO0VBQ25FLElBQUlDLGVBQUMsQ0FBQ0MsT0FBTyxDQUFDSCxJQUFJLENBQUMsRUFBRTtJQUNuQixNQUFNLElBQUlJLEtBQUssQ0FBQyw4QkFBOEIsQ0FBQztFQUNqRDtFQUVBLE9BQU8sTUFBTSxJQUFJLENBQUNDLElBQUksQ0FBQyxPQUFPLEVBQUU7SUFDOUJMLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQ00sV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUlKLGVBQUMsQ0FBQ0ssT0FBTyxDQUFDUCxJQUFJLENBQUMsR0FBR0EsSUFBSSxHQUFHLENBQUNBLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDdkVDO0VBQ0YsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQVdESCxRQUFRLENBQUNVLGVBQWUsR0FBRyxlQUFlQSxlQUFlQSxDQUFFUixJQUFJLEVBQUVDLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRTtFQUN6RSxJQUFJQyxlQUFDLENBQUNDLE9BQU8sQ0FBQ0gsSUFBSSxDQUFDLEVBQUU7SUFDbkIsTUFBTSxJQUFJSSxLQUFLLENBQUMsOEJBQThCLENBQUM7RUFDakQ7RUFFQSxPQUFPLE1BQU0sSUFBSSxDQUFDQyxJQUFJLENBQUMsT0FBTyxFQUFFO0lBQzlCTCxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUNNLFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFBRSxJQUFJSixlQUFDLENBQUNLLE9BQU8sQ0FBQ1AsSUFBSSxDQUFDLEdBQUdBLElBQUksR0FBRyxDQUFDQSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZFQyxHQUFHO0lBQ0hRLFlBQVksRUFBRTtFQUNoQixDQUFDLENBQUM7QUFDSixDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUVhWixRQUFRO0FBQUFhLE9BQUEsQ0FBQUMsT0FBQSxHQUFBRixRQUFBIn0=