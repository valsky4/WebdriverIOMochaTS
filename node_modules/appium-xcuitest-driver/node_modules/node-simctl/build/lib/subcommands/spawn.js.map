{"version":3,"file":"spawn.js","names":["_lodash","_interopRequireDefault","require","commands","spawnProcess","args","env","_","isEmpty","Error","exec","requireUdid","isArray","spawnSubProcess","asynchronous","_default","exports","default"],"sources":["../../../lib/subcommands/spawn.js"],"sourcesContent":["import _ from 'lodash';\n\n\nconst commands = {};\n\n/**\n * Spawn the particular process on Simulator.\n * It is required that Simulator is in _booted_ state.\n *\n * @param {string|Array<string>} args - Spawn arguments\n * @param {object} env [{}] - Additional environment variables mapping.\n * @return {ExecResult} Command execution result.\n * @throws {Error} If the corresponding simctl subcommand command\n *                 returns non-zero return code.\n * @throws {Error} If the `udid` instance property is unset\n */\ncommands.spawnProcess = async function spawnProcess (args, env = {}) {\n  if (_.isEmpty(args)) {\n    throw new Error('Spawn arguments are required');\n  }\n\n  return await this.exec('spawn', {\n    args: [this.requireUdid('spawn'), ...(_.isArray(args) ? args : [args])],\n    env,\n  });\n};\n\n/**\n * Prepare SubProcess instance for a new process, which is going to be spawned\n * on Simulator.\n *\n * @param {string|Array<string>} args - Spawn arguments\n * @param {object} env [{}] - Additional environment variables mapping.\n * @return {SubProcess} The instance of the process to be spawned.\n * @throws {Error} If the `udid` instance property is unset\n */\ncommands.spawnSubProcess = async function spawnSubProcess (args, env = {}) {\n  if (_.isEmpty(args)) {\n    throw new Error('Spawn arguments are required');\n  }\n\n  return await this.exec('spawn', {\n    args: [this.requireUdid('spawn'), ...(_.isArray(args) ? args : [args])],\n    env,\n    asynchronous: true,\n  });\n};\n\nexport default commands;\n"],"mappings":";;;;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAGA,MAAMC,QAAQ,GAAG,CAAC,CAAC;AAanBA,QAAQ,CAACC,YAAY,GAAG,eAAeA,YAAYA,CAAEC,IAAI,EAAEC,GAAG,GAAG,CAAC,CAAC,EAAE;EACnE,IAAIC,eAAC,CAACC,OAAO,CAACH,IAAI,CAAC,EAAE;IACnB,MAAM,IAAII,KAAK,CAAC,8BAA8B,CAAC;EACjD;EAEA,OAAO,MAAM,IAAI,CAACC,IAAI,CAAC,OAAO,EAAE;IAC9BL,IAAI,EAAE,CAAC,IAAI,CAACM,WAAW,CAAC,OAAO,CAAC,EAAE,IAAIJ,eAAC,CAACK,OAAO,CAACP,IAAI,CAAC,GAAGA,IAAI,GAAG,CAACA,IAAI,CAAC,CAAC,CAAC;IACvEC;EACF,CAAC,CAAC;AACJ,CAAC;AAWDH,QAAQ,CAACU,eAAe,GAAG,eAAeA,eAAeA,CAAER,IAAI,EAAEC,GAAG,GAAG,CAAC,CAAC,EAAE;EACzE,IAAIC,eAAC,CAACC,OAAO,CAACH,IAAI,CAAC,EAAE;IACnB,MAAM,IAAII,KAAK,CAAC,8BAA8B,CAAC;EACjD;EAEA,OAAO,MAAM,IAAI,CAACC,IAAI,CAAC,OAAO,EAAE;IAC9BL,IAAI,EAAE,CAAC,IAAI,CAACM,WAAW,CAAC,OAAO,CAAC,EAAE,IAAIJ,eAAC,CAACK,OAAO,CAACP,IAAI,CAAC,GAAGA,IAAI,GAAG,CAACA,IAAI,CAAC,CAAC,CAAC;IACvEC,GAAG;IACHQ,YAAY,EAAE;EAChB,CAAC,CAAC;AACJ,CAAC;AAAC,IAAAC,QAAA,GAEaZ,QAAQ;AAAAa,OAAA,CAAAC,OAAA,GAAAF,QAAA"}